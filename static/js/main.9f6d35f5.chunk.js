(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],{112:function(e,t,a){},246:function(e,t,a){"use strict";a.r(t);var n,c,s,r,l,o,i,d,u,j,b,m,g,x=a(2),f=a(99),p=a.n(f),h=(a(112),a(1)),O=a(12),v=a(11),N=a(0),k=function(e){return localStorage.getItem("token")?Object(N.jsx)(v.b,Object(h.a)({},e)):Object(N.jsx)(v.a,{to:"/login"})},y=a(4),w=a.n(y),_=a(6),S=a(3),P=a(14),C=a(33),I=a.n(C),R=I.a.create({baseURL:"http://localhost:3000",headers:{"Content-Type":"application/json"}}),B=function(e){var t=e.children,a=e.className;return Object(N.jsx)("div",{className:"bg-white shadow-sm rounded-lg border border-gray-100 p-6 ".concat(a),children:t})},E=a(15),D=E.a.div(n||(n=Object(P.a)(["\n  background-color: rgba(0, 0, 0, 0.5);\n"]))),F=function(e){var t=e.children,a=e.show,n=e.afterClose,c=void 0===n?function(){}:n;return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(D,{className:"fixed top-0 left-0 ".concat(a?"visible opacity-100":"invisible opacity-0"," ease-in-out duration-500 w-full h-screen z-20"),style:{transitionProperty:"visibility, opacity"},onClick:function(){c()},children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transition-transform duration-700 transform ".concat(a?"-translate-y-1/2":"translate-y-full"," -translate-x-1/2 w-full sm:w-4/5 md:w-2/3 lg:w-1/2 xl:w-1/3 px-6"),onClick:function(e){e.stopPropagation()},children:t})})})},T=a(51),Y=["children","className","theme","variant"],K=["children","className","theme","variant"],M=["children","className","theme","variant"],H=function(e){var t=e.children,a=e.className,n=void 0===a?"":a,c=e.theme,s=void 0===c?"indigo":c,r=e.variant,l=void 0===r?"flat":r,o=Object(T.a)(e,Y);switch(s="bg-".concat(s,"-500 hover:bg-").concat(s,"-400 text-").concat(s,"-100 disabled:opacity-50 focus:ring focus:ring-").concat(s,"-100"),l){case"flat":l="rounded";break;case"pill":l="rounded-full";break;default:l="rounded"}return Object(N.jsx)("button",Object(h.a)(Object(h.a)({className:"".concat(n," ").concat(s," ").concat(l," focus:outline-none px-4 py-1.5")},o),{},{children:t}))},L=function(e){var t=e.children,a=e.className,n=void 0===a?"":a,c=e.theme,s=void 0===c?"indigo":c,r=e.variant,l=void 0===r?"flat":r,o=Object(T.a)(e,K);switch(s="border border-".concat(s,"-300 bg-").concat(s,"-50 hover:bg-").concat(s,"-200 text-").concat(s,"-600 disabled:opacity-50 focus:ring focus:ring-").concat(s,"-100"),l){case"flat":l="rounded";break;case"pill":l="rounded-full";break;default:l="rounded"}return Object(N.jsx)("button",Object(h.a)(Object(h.a)({className:"".concat(n," ").concat(s," ").concat(l," focus:outline-none px-4 py-1.5")},o),{},{children:t}))},q=function(e){var t=e.children,a=e.className,n=void 0===a?"":a,c=e.theme,s=void 0===c?"indigo":c,r=e.variant,l=void 0===r?"flat":r,o=Object(T.a)(e,M);switch(s="border border-".concat(s,"-300 hover:bg-").concat(s,"-50 text-").concat(s,"-600 disabled:opacity-50 disabled:cursor-default focus:ring focus:ring-").concat(s,"-100"),l){case"flat":l="rounded";break;case"pill":l="rounded-full";break;default:l="rounded"}return Object(N.jsx)("button",Object(h.a)(Object(h.a)({className:"".concat(n," ").concat(s," ").concat(l," focus:outline-none px-4 py-1.5")},o),{},{children:t}))},A=a(7),V=a(9),U=a(10),z=function(e){var t,a=e.show,n=e.status,c=void 0===n?200:n,s=e.message,r=void 0===s?"":s,l=e.duration,o=void 0===l?3e3:l,i=e.afterClose;return Object(x.useEffect)((function(){return a&&(t=setTimeout((function(){i()}),o)),function(){clearTimeout(t)}}),[a]),Object(N.jsx)("div",{className:"fixed transform origin-top ".concat(a?"translate-y-0":"-translate-y-32"," top-5 right-5 transition duration-500 z-30"),children:Object(N.jsx)("div",{className:"bg-".concat(200===c?"green":"red","-300 font-bold text-sm text-white rounded-lg px-8 py-3"),children:r})})},J=Object(E.b)(c||(c=Object(P.a)(["\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(270deg); }"]))),G=Object(E.b)(s||(s=Object(P.a)(["\n  0% { stroke: #4285F4; }\n  25% { stroke: #DE3E35; }\n  50% { stroke: #F7C223; }\n  75% { stroke: #1B9A59; }\n  100% { stroke: #4285F4; }"]))),W=Object(E.b)(r||(r=Object(P.a)(["\n  0% { stroke-dashoffset: 187; }\n  50% {\n    stroke-dashoffset: 46.75;\n    transform:rotate(135deg);\n  }\n  100% {\n    stroke-dashoffset: 187;\n    transform:rotate(450deg);\n  }"]))),Z=E.a.svg.attrs((function(e){return{width:e.width||"65px",height:e.width||"65px",viewBox:"0 0 66 66",xlmns:"http://www.w3.org/2000/svg"}}))(l||(l=Object(P.a)(["\n  margin: auto;\n  animation: "," 1.4s linear infinite;\n"])),J),Q=E.a.circle.attrs({fill:"none",strokeWidth:"2",strokeLinecap:"round",cx:"33",cy:"33",r:"30"})(o||(o=Object(P.a)(["\n  stroke-dasharray: 187;\n  stroke-dashoffset: 0;\n  transform-origin: center;\n  animation: "," 1.4s ease-in-out infinite,\n    "," 5.6s ease-in-out infinite;\n"])),W,G),X=function(e){var t=e.children,a=e.width,n=e.height;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(Z,{width:a,height:n,children:Object(N.jsx)(Q,{})}),t]})},$=function(e){var t=e.page,a=void 0===t?0:t,n=e.rowsPerPage,c=void 0===n?0:n,s=(e.totalPages,e.totalRows),r=void 0===s?0:s,l=e.totalPagesFiltered,o=void 0===l?0:l,i=e.totalRowsFiltered,d=void 0===i?0:i,u=e.pageOnChange,j=void 0===u?function(){}:u,b=Array.from(Array(o).keys());return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center font-montserrat text-sm",children:[Object(N.jsx)("div",{className:"col-span-full md:col-span-4 text-center md:text-left mb-1 md:mb-0",children:Object(N.jsx)("div",{className:"font-montserrat font-bold text-base tracking-wide text-gray-500",children:function(){var e=(a-1)*c,t=d%c;return a===o&&d%c!==0?d===r?"".concat(e+1," - ").concat(e+t," dari ").concat(d," data"):"".concat(e+1," - ").concat(e+t," dari ").concat(d," data (total ").concat(r," data)"):0===d?"".concat(0," - ",0," dari ",d," data (total ").concat(r," data)"):d===r?0===r?"".concat(0," - ",0," dari ",d," data"):"".concat(e+1," - ").concat(e+c," dari ").concat(d," data"):"".concat(e+1," - ").concat(e+c," dari ").concat(d," data (total ").concat(r," data)")}()})}),Object(N.jsxs)("div",{className:"col-span-full md:col-span-8 flex justify-center md:justify-end space-x-1",children:[Object(N.jsx)(q,{onClick:function(){return j(1)},disabled:a<=1,children:Object(N.jsx)(A.a,{icon:V.a})}),Object(N.jsx)(q,{onClick:function(){return j(a-1)},disabled:a<=1,children:Object(N.jsx)(A.a,{icon:V.c})}),(o>=3?a+3>o?b.slice(o-3):b.slice(a-1,a-1+3):b).map((function(e,t){return a===e+1?Object(N.jsx)(H,{onClick:function(){return j(e+1)},children:e+1},e):Object(N.jsx)(q,{onClick:function(){return j(e+1)},children:e+1},e)})),Object(N.jsx)(q,{onClick:function(){return j(a+1)},disabled:a>=o,children:Object(N.jsx)(A.a,{icon:V.d})}),Object(N.jsx)(q,{onClick:function(){return j(o)},disabled:a===o,children:Object(N.jsx)(A.a,{icon:V.b})})]})]})})},ee=function(e){var t=e.page,a=void 0===t?1:t,n=e.rowsPerPage,c=void 0===n?0:n,s=e.totalPages,r=void 0===s?0:s,l=e.totalRows,o=void 0===l?0:l,i=e.totalPagesFiltered,d=void 0===i?0:i,u=e.totalRowsFiltered,j=void 0===u?0:u,b=e.columns,m=void 0===b?[]:b,g=e.rows,x=void 0===g?function(){}:g,f=e.sortBy,p=void 0===f?[]:f,h=e.searchOnChange,O=void 0===h?function(){}:h,v=e.pageOnChange,k=void 0===v?function(){}:v,y=e.rowsOnChange,w=void 0===y?function(){}:y,_=e.sortByOnChange,S=void 0===_?function(){}:_,P=function(e){var t=e.currentTarget.getElementsByClassName("text-black"),a=e.currentTarget.firstElementChild,n=e.currentTarget.lastElementChild;t.length>0&&a.classList.contains("text-black")?S(n.dataset):S(a.dataset)};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"grid grid-cols-12 gap-y-2 items-center font-montserrat text-sm text-gray-500",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-6 font-bold text-center md:text-left tracking-wide",children:["Baris per halaman:",Object(N.jsxs)("select",{className:"appearance-none bg-white text-xs text-center border border-gray-300 rounded focus:outline-none focus:ring focus:ring-indigo-100 px-3.5 py-1.5 ml-2",value:c,onChange:function(e){return w(parseInt(e.target.value))},children:[Object(N.jsx)("option",{value:"10",children:"10"}),Object(N.jsx)("option",{value:"25",children:"25"}),Object(N.jsx)("option",{value:"50",children:"50"}),Object(N.jsx)("option",{value:"100",children:"100"}),Object(N.jsx)("option",{value:"500",children:"500"})]})]}),Object(N.jsxs)("div",{className:"col-span-full md:col-span-6 flex items-center justify-center md:justify-end",children:[Object(N.jsx)("div",{className:"font-bold mr-2",children:"Cari"}),Object(N.jsx)("input",{type:"text",className:"text-sm border rounded focus:ring focus:ring-indigo-100 focus:outline-none w-full md:w-auto px-2 py-1.5",placeholder:"Masukkan kata kunci...",onChange:function(e){return O(e.target.value)}})]})]}),Object(N.jsx)("div",{className:"relative overflow-x-auto z-10 pb-4 my-4",children:Object(N.jsxs)("table",{className:"font-montserrat text-sm border w-full",cellPadding:"10",children:[Object(N.jsx)("thead",{className:"bg-gray-50",children:Object(N.jsx)("tr",{children:m.map((function(e,t){return Object(N.jsx)("th",{className:"border",children:Object(N.jsxs)("div",{className:"relative items-center justify-between space-x-2",children:[Object(N.jsx)("span",{className:"text-gray-600",children:e.label}),e.disabled?null:Object(N.jsxs)("div",{className:"absolute -top-2.5 -right-2 text-gray-400 cursor-pointer space-x-0.5",style:{fontSize:"10px"},onClick:P,children:[Object(N.jsx)(A.a,{icon:V.m,"data-field":e.field,"data-direction":"asc",className:p.field===e.field&&"asc"===p.direction?"text-black":""}),Object(N.jsx)(A.a,{icon:V.l,"data-field":e.field,"data-direction":"desc",className:p.field===e.field&&"desc"===p.direction?"text-black":""})]})]})},t)}))})}),Object(N.jsx)("tbody",{children:x()})]})}),Object(N.jsx)($,{page:a,rowsPerPage:c,totalPages:r,totalRows:o,totalPagesFiltered:d,totalRowsFiltered:j,pageOnChange:function(e){return k(e)}})]})},te=a(16),ae=a.n(te),ne=a(18),ce=a(13),se=E.a.tr(i||(i=Object(P.a)(["\n  :nth-child(even) {\n    background-color: rgba(0, 0, 0, 0.02);\n  }\n  :hover {\n    background-color: rgba(0, 0, 0, 0.03);\n  }\n"]))),re=function(){var e={_id:"",nama_barang:""},t=Object(x.useState)({}),a=Object(S.a)(t,2),n=a[0],c=a[1],s=Object(x.useState)(!1),r=Object(S.a)(s,2),l=r[0],o=r[1],i=Object(x.useState)(!1),d=Object(S.a)(i,2),u=d[0],j=d[1],b=Object(x.useState)(!1),m=Object(S.a)(b,2),g=m[0],f=m[1],p=Object(x.useState)({status:200,message:"",error:!1,duration:3e3}),O=Object(S.a)(p,2),k=O[0],y=O[1],P=Object(x.useState)(e),C=Object(S.a)(P,2),I=C[0],E=C[1],D=[{label:"No",field:"created_at"},{label:"Kode Barang",field:"kode_barang"},{label:"Nama Barang",field:"nama_barang"},{label:"Stok",field:"stok"},{label:"Harga Jual",field:"harga_jual"},{label:"Harga Beli",field:"harga_beli"},{label:"Kategori",field:"id_kategori"},{label:"Satuan",field:"id_satuan"},{label:"Tanggal",field:"created_at"},{label:"Aksi",field:"aksi",disabled:!0}],T=Object(x.useState)([]),Y=Object(S.a)(T,2),K=Y[0],M=Y[1],q=Object(x.useState)({field:"created_at",direction:"desc"}),J=Object(S.a)(q,2),G=J[0],W=J[1],Z=Object(x.useState)({q:"",page:1,rowsPerPage:10,totalPages:0,totalRows:0,totalPagesFiltered:0,totalRowsFiltered:0}),Q=Object(S.a)(Z,2),$=Q[0],te=Q[1],re=Object(v.g)(),le=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,R.get("/barang",{params:{q:$.q,page:$.page,rows:$.rowsPerPage,sortby:"".concat(G.field,".").concat(G.direction)},headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){c(e.data),e.data.data.forEach((function(e,t){return e})),M((function(){var t=[];return e.data.data.forEach((function(e,a){t.push({kode_barang:e.kode_barang,nama_barang:e.nama_barang,stok:e.stok,harga_jual:e.harga_jual,harga_beli:e.harga_beli,kategori:e.id_kategori.nama_kategori,satuan:e.id_satuan.nama_satuan})})),t})),te((function(t){return Object(h.a)(Object(h.a)({},t),{},{totalPages:Math.ceil(parseInt(e.data.total_rows)/t.rowsPerPage),totalRows:parseInt(e.data.total_rows),totalPagesFiltered:Math.ceil(parseInt(e.data.total_rows_filtered)/t.rowsPerPage),totalRowsFiltered:parseInt(e.data.total_rows_filtered)})}))})).catch((function(e){if(console.log(e),401===e.response.status)return localStorage.clear(),re.push("/login");y(Object(h.a)(Object(h.a)({},k),{},{status:500,message:"Internal server error!",error:!0})),j(!0)}));case 3:f(!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var t=Object(_.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),j(!1),f(!0),t.next=5,R.delete("/barang/".concat(I._id),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(t){le(),y(Object(h.a)(Object(h.a)({},k),t.data)),j(!0),o(!1),E(e)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),re.push("/login");y(Object(h.a)(Object(h.a)({},k),{},{status:500,message:"Internal server error!",error:!0})),j(!0)}));case 5:f(!1);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){le()}),[$.q,$.rowsPerPage,$.page,G]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Data Barang | INVENTORY"})}),g?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 text-white transform -translate-y-1/2 -translate-x-1/2 rounded-lg px-8 py-3",style:{backgroundColor:"#00000097"},children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:u},k),{},{afterClose:function(){return j(!1)}})),Object(N.jsx)(F,{show:l,afterClose:function(){return o(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Delete Barang"}),Object(N.jsx)("button",{onClick:function(){o(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsxs)("form",{onSubmit:oe,children:[Object(N.jsxs)("div",{className:"text-sm",children:["Anda yakin ingin menghapus barang"," ",Object(N.jsx)("strong",{children:I.nama_barang}),"?"]}),Object(N.jsxs)("div",{className:"flex justify-between text-sm space-x-2 mt-8",children:[Object(N.jsx)(H,{type:"button",theme:"red",onClick:function(){o(!1)},children:"Batal"}),Object(N.jsx)(H,{type:"submit",theme:"green",children:"Ya"})]})]})]})}),Object(N.jsxs)(B,{children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Data Barang"}),Object(N.jsx)(H,{className:"mb-4",onClick:function(){re.push("/barang/tambah")},children:"Tambah Barang"}),Object(N.jsxs)(L,{className:"text-sm ml-4",children:[Object(N.jsx)(A.a,{icon:ce.a}),Object(N.jsx)(ne.CSVLink,{className:"ml-2",headers:[{label:"Kode Barang",key:"kode_barang"},{label:"Nama Barang",key:"nama_barang"},{label:"Stok",key:"stok"},{label:"Harga Jual",key:"harga_jual"},{label:"Harga Beli",key:"harga_beli"},{label:"Kategori",key:"kategori"},{label:"Satuan",key:"satuan"}],data:K,filename:"Data_Barang_INVENTORY.csv",target:"_blank",children:"Export"})]}),Object(N.jsx)(ee,{page:$.page,rowsPerPage:$.rowsPerPage,totalPages:$.totalPages,totalRows:$.totalRows,totalPagesFiltered:$.totalPagesFiltered,totalRowsFiltered:$.totalRowsFiltered,columns:D,rows:function(){return n.data&&0!==n.data.length?n.data.map((function(e,t){var a=($.page-1)*$.rowsPerPage;return Object(N.jsxs)(se,{children:[Object(N.jsx)("td",{className:"border text-center",children:a+(t+1)}),Object(N.jsx)("td",{className:"border",children:e.kode_barang}),Object(N.jsx)("td",{className:"border",children:e.nama_barang}),Object(N.jsx)("td",{className:"border text-center",children:e.stok}),Object(N.jsx)("td",{className:"border text-right whitespace-nowrap",children:"Rp ".concat(e.harga_jual.toLocaleString({style:"currency",currency:"IDR"}))}),Object(N.jsx)("td",{className:"border text-right whitespace-nowrap",children:"Rp ".concat(e.harga_beli.toLocaleString({style:"currency",currency:"IDR"}))}),Object(N.jsx)("td",{className:"border text-center",children:e.id_kategori?e.id_kategori.nama_kategori:"-"}),Object(N.jsx)("td",{className:"border text-center",children:e.id_satuan?e.id_satuan.nama_satuan:"-"}),Object(N.jsx)("td",{className:"border text-center",children:ae()(e.created_at).format("DD/MM/YYYY hh:mm")}),Object(N.jsx)("td",{className:"border",children:Object(N.jsxs)("div",{className:"flex items-center justify-center text-xs space-x-1",children:[Object(N.jsx)(L,{variant:"pill",onClick:function(){re.push("/barang/".concat(e._id,"/edit"))},children:"Edit"}),Object(N.jsx)(L,{theme:"red",variant:"pill",onClick:function(){console.log("click hapus"),o(!0),E({_id:e._id,nama_barang:e.nama_barang})},children:"Hapus"})]})})]},t)})):Object(N.jsx)("tr",{className:"text-center",children:Object(N.jsx)("td",{colSpan:D.length,children:"Data Kosong"})})},sortBy:G,searchOnChange:function(e){return te((function(t){return Object(h.a)(Object(h.a)({},t),{},{q:e,page:1})}))},pageOnChange:function(e){return te((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},rowsOnChange:function(e){return te((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:1,rowsPerPage:e})}))},sortByOnChange:function(e){return W(e)}})]})]})},le=E.a.tr(d||(d=Object(P.a)(["\n  :nth-child(even) {\n    background-color: rgba(0, 0, 0, 0.02);\n  }\n  :hover {\n    background-color: rgba(0, 0, 0, 0.03);\n  }\n"]))),oe=function(){var e={username:"",nama:""},t=Object(x.useState)(null),a=Object(S.a)(t,2),n=a[0],c=a[1],s=[{label:"No",field:"created_at",disabled:!0},{label:"Username",field:"username"},{label:"Nama",field:"nama"},{label:"Email",field:"email"},{label:"No telp",field:"no_telp"},{label:"Role",field:"role"},{label:"Status",field:"status"},{label:"Tgl terdaftar",field:"created_at"},{label:"Aksi",field:"aksi",disabled:!0}],r=Object(x.useState)([]),l=Object(S.a)(r,2),o=l[0],i=l[1],d=Object(x.useState)({field:"_id",direction:"desc"}),u=Object(S.a)(d,2),j=u[0],b=u[1],m=Object(x.useState)({q:"",page:1,rowsPerPage:10,totalPages:0,totalRows:0,totalPagesFiltered:0,totalRowsFiltered:0}),g=Object(S.a)(m,2),f=g[0],p=g[1],O=Object(x.useState)(!1),k=Object(S.a)(O,2),y=k[0],P=k[1],C=Object(x.useState)(!1),I=Object(S.a)(C,2),E=I[0],D=I[1],T=Object(x.useState)(!1),Y=Object(S.a)(T,2),K=Y[0],M=Y[1],q=Object(x.useState)({status:200,message:"",error:!1,duration:3e3}),J=Object(S.a)(q,2),G=J[0],W=J[1],Z=Object(x.useState)(e),Q=Object(S.a)(Z,2),$=Q[0],te=Q[1],se=Object(v.g)(),re=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/pengguna",{params:{q:f.q,page:f.page,rows:f.rowsPerPage,sortby:"".concat(j.field,".").concat(j.direction)},headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){c(e.data),i((function(){var t=[];return e.data.data.forEach((function(e,a){t.push({username:e.username,nama:e.nama,email:e.email,no_telp:"'".concat(e.no_telp),role:e.role,status:1===e.status?"Aktif":"Nonaktif",created_at:ae()(e.created_at).format("YYYY MM DD")})})),t})),p((function(t){return Object(h.a)(Object(h.a)({},t),{},{totalPages:Math.ceil(parseInt(e.data.total_rows)/t.rowsPerPage),totalRows:parseInt(e.data.total_rows),totalPagesFiltered:Math.ceil(parseInt(e.data.total_rows_filtered)/t.rowsPerPage),totalRowsFiltered:parseInt(e.data.total_rows_filtered)})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),se.push("/login");W(Object(h.a)(Object(h.a)({},G),{},{status:500,message:"Internal server error!",error:!0})),D(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),oe=function(){var t=Object(_.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(!1),M(!0),t.next=4,R.delete("/pengguna/".concat($.username),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(t){re(),W(Object(h.a)(Object(h.a)({},G),t.data)),D(!0),P(!1),te(e)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),se.push("/login");W(Object(h.a)(Object(h.a)({},G),{},{status:500,message:"Internal server error!",error:!0})),D(!0)}));case 4:M(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){re()}),[f.q,f.rowsPerPage,f.page,j]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Data Pengguna | INVENTORY"})}),K?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:E},G),{},{afterClose:function(){return D(!1)}})),Object(N.jsx)(F,{show:y,afterClose:function(){return P(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Hapus Transaksi Pengguna"}),Object(N.jsx)("button",{onClick:function(){P(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsxs)("div",{className:"text-sm",children:["Anda yakin ingin menghapus pengguna"," ",Object(N.jsx)("strong",{className:"font-lato",children:$.nama}),"?"]}),Object(N.jsxs)("div",{className:"flex justify-between text-sm space-x-2 mt-8",children:[Object(N.jsx)(H,{theme:"red",onClick:function(){P(!1)},children:"Batal"}),Object(N.jsx)(H,{theme:"green",onClick:oe,children:"Ya"})]})]})}),Object(N.jsxs)(B,{children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Data Pengguna"}),Object(N.jsx)(H,{className:"mb-4",onClick:function(){se.push("/pengguna/tambah")},children:"Tambah Pengguna"}),Object(N.jsxs)(L,{className:"text-sm ml-4",children:[Object(N.jsx)(A.a,{icon:ce.a}),Object(N.jsx)(ne.CSVLink,{className:"ml-2",headers:[{label:"Username",key:"username"},{label:"Nama",key:"nama"},{label:"Email",key:"email"},{label:"No telp",key:"no_telp"},{label:"Role",key:"role"},{label:"Status",key:"status"},{label:"Tgl terdaftar",key:"created_at"}],data:o,filename:"Data_Pengguna_INVENTORY.csv",target:"_blank",children:"Export"})]}),Object(N.jsx)(ee,{page:f.page,rowsPerPage:f.rowsPerPage,totalPages:f.totalPages,totalRows:f.totalRows,totalPagesFiltered:f.totalPagesFiltered,totalRowsFiltered:f.totalRowsFiltered,columns:s,rows:function(){return n&&0!==n.data.length?n.data.map((function(e,t){var a=(f.page-1)*f.rowsPerPage;return Object(N.jsxs)(le,{children:[Object(N.jsx)("td",{className:"border text-center",children:a+(t+1)}),Object(N.jsx)("td",{className:"border",children:e.username}),Object(N.jsx)("td",{className:"border",children:e.nama}),Object(N.jsx)("td",{className:"border",children:e.email}),Object(N.jsx)("td",{className:"border text-center",children:e.no_telp}),Object(N.jsx)("td",{className:"border text-center",children:e.role}),Object(N.jsx)("td",{className:"border text-center",children:1===e.status?"Aktif":"Non-aktif"}),Object(N.jsx)("td",{className:"border text-center",children:ae()(e.created_at).format("YYYY-MM-DD")}),Object(N.jsx)("td",{className:"border",children:Object(N.jsxs)("div",{className:"flex items-center justify-center text-xs space-x-1",children:[Object(N.jsx)(L,{variant:"pill",onClick:function(){se.push("/pengguna/".concat(e.username,"/edit"))},children:"Edit"}),"staff"===e.role||e.username!==sessionStorage.getItem("username")?Object(N.jsx)(L,{theme:"red",variant:"pill",onClick:function(){P(!0),te({username:e.username,nama:e.nama})},children:"Hapus"}):null]})})]},t)})):Object(N.jsx)("tr",{className:"text-center",children:Object(N.jsx)("td",{colSpan:s.length,children:"Data Kosong"})})},sortBy:j,searchOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{q:e,page:1})}))},pageOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},rowsOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:1,rowsPerPage:e})}))},sortByOnChange:function(e){return b(e)}})]})]})},ie=E.a.tr(u||(u=Object(P.a)(["\n  :nth-child(even) {\n    background-color: rgba(0, 0, 0, 0.02);\n  }\n  :hover {\n    background-color: rgba(0, 0, 0, 0.03);\n  }\n"]))),de=function(){var e={nama_kategori:""},t={_id:"",nama_kategori:""},a={_id:"",nama_kategori:""},n=Object(x.useState)(null),c=Object(S.a)(n,2),s=c[0],r=c[1],l=[{label:"No",field:"_id"},{label:"Nama Kategori",field:"nama_kategori"},{label:"Aksi",field:"aksi",disabled:!0}],o=Object(x.useState)([]),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)({field:"_id",direction:"desc"}),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)({q:"",page:1,rowsPerPage:10,totalPages:0,totalRows:0,totalPagesFiltered:0,totalRowsFiltered:0}),p=Object(S.a)(f,2),O=p[0],k=p[1],y=Object(x.useState)(!1),P=Object(S.a)(y,2),C=P[0],I=P[1],E=Object(x.useState)(!1),D=Object(S.a)(E,2),T=D[0],Y=D[1],K=Object(x.useState)(!1),M=Object(S.a)(K,2),q=M[0],J=M[1],G=Object(x.useState)(!1),W=Object(S.a)(G,2),Z=W[0],Q=W[1],$=Object(x.useState)(!1),te=Object(S.a)($,2),ae=te[0],se=te[1],re=Object(x.useState)({status:200,message:"",error:!1,duration:3e3}),le=Object(S.a)(re,2),oe=le[0],de=le[1],ue=Object(x.useState)(e),je=Object(S.a)(ue,2),be=je[0],me=je[1],ge=Object(x.useState)(t),xe=Object(S.a)(ge,2),fe=xe[0],pe=xe[1],he=Object(x.useState)(a),Oe=Object(S.a)(he,2),ve=Oe[0],Ne=Oe[1],ke=Object(x.useState)(!1),ye=Object(S.a)(ke,2),we=ye[0],_e=ye[1],Se=Object(x.useState)(!1),Pe=Object(S.a)(Se,2),Ce=Pe[0],Ie=Pe[1],Re=Object(v.g)(),Be=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/kategori",{params:{q:O.q,page:O.page,rows:O.rowsPerPage,sortby:"".concat(m.field,".").concat(m.direction)},headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){r(e.data),u((function(){var t=[];return e.data.data.forEach((function(e,a){t.push({nama_kategori:e.nama_kategori})})),t})),k((function(t){return Object(h.a)(Object(h.a)({},t),{},{totalPages:Math.ceil(parseInt(e.data.total_rows)/t.rowsPerPage),totalRows:parseInt(e.data.total_rows),totalPagesFiltered:Math.ceil(parseInt(e.data.total_rows_filtered)/t.rowsPerPage),totalRowsFiltered:parseInt(e.data.total_rows_filtered)})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Re.push("/login");de(Object(h.a)(Object(h.a)({},oe),{},{status:500,message:"Internal server error!",error:!0})),Q(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var t=Object(_.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),Q(!1),be.nama_kategori){t.next=5;break}return _e("Nama kategori harus diisi."),t.abrupt("return",!1);case 5:return se(!0),t.next=8,R.post("/kategori",be,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(t){Be(),de(Object(h.a)(Object(h.a)({},oe),t.data)),Q(!0),I(!1),me(e)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Re.push("/login");de(Object(h.a)(Object(h.a)({},oe),{},{status:500,message:"Internal server error!",error:!0})),Q(!0)}));case 8:se(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),De=function(){var e=Object(_.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),Q(!1),fe.nama_kategori){e.next=5;break}return Ie("Nama kategori harus diisi."),e.abrupt("return",!1);case 5:return se(!0),e.next=8,R.put("/kategori/".concat(fe._id),{nama_kategori:fe.nama_kategori},{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){Be(),de(Object(h.a)(Object(h.a)({},oe),e.data)),Q(!0),Y(!1),pe(t)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Re.push("/login");de(Object(h.a)(Object(h.a)({},oe),{},{status:500,message:"Internal server error!",error:!0})),Q(!0)}));case 8:se(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!1),se(!0),e.next=4,R.delete("/kategori/".concat(ve._id),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){Be(),de(Object(h.a)(Object(h.a)({},oe),e.data)),Q(!0),J(!1),Ne(a)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Re.push("/login");de(Object(h.a)(Object(h.a)({},oe),{},{status:500,message:"Internal server error!",error:!0})),Q(!0)}));case 4:se(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){Be()}),[O.q,O.rowsPerPage,O.page,m]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Data Kategori | INVENTORY"})}),ae?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:Z},oe),{},{afterClose:function(){return Q(!1)}})),Object(N.jsx)(F,{show:C,afterClose:function(){I(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Tambah Kategori"}),Object(N.jsx)("button",{onClick:function(){I(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsx)("form",{onSubmit:Ee,children:Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(N.jsxs)("div",{className:"",children:["Nama Kategori ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Kategori",value:be.nama_kategori,onChange:function(e){var t=e.target.value;me((function(t){return Object(h.a)(Object(h.a)({},t),{},{nama_kategori:e.target.value})})),_e(!t&&"Nama kategori harus diisi.")}}),Object(N.jsx)("div",{className:"".concat(we?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:we})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{children:"Simpan"})})]})})]})}),Object(N.jsx)(F,{show:T,afterClose:function(){Y(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Edit Kategori"}),Object(N.jsx)("button",{onClick:function(){Y(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsx)("form",{onSubmit:De,children:Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(N.jsxs)("div",{className:"",children:["ID Kategori ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:fe._id,disabled:!0})]}),Object(N.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(N.jsxs)("div",{className:"",children:["Nama Kategori ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Kategori",value:fe.nama_kategori,onChange:function(e){var t=e.target.value;pe((function(t){return Object(h.a)(Object(h.a)({},t),{},{nama_kategori:e.target.value})})),Ie(!t&&"Nama kategori harus diisi.")}}),Object(N.jsx)("div",{className:"".concat(Ce?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:Ce})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{children:"Simpan"})})]})})]})}),Object(N.jsx)(F,{show:q,afterClose:function(){return J(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Hapus Kategori"}),Object(N.jsx)("button",{onClick:function(){J(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsxs)("div",{className:"text-sm",children:["Anda yakin ingin menghapus kategori"," ",Object(N.jsx)("strong",{children:ve.nama_kategori}),"?"]}),Object(N.jsxs)("div",{className:"flex justify-between text-sm space-x-2 mt-8",children:[Object(N.jsx)(H,{theme:"red",onClick:function(){J(!1)},children:"Batal"}),Object(N.jsx)(H,{theme:"green",onClick:Fe,children:"Ya"})]})]})}),Object(N.jsxs)(B,{children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Data Kategori Barang"}),Object(N.jsx)(H,{className:"mb-4",onClick:function(){I(!0)},children:"Tambah Kategori"}),Object(N.jsxs)(L,{className:"text-sm ml-4",children:[Object(N.jsx)(A.a,{icon:ce.a}),Object(N.jsx)(ne.CSVLink,{className:"ml-2",headers:[{label:"Kategori",key:"nama_kategori"}],data:d,filename:"Data_Kategori_INVENTORY.csv",target:"_blank",children:"Export"})]}),Object(N.jsx)(ee,{page:O.page,rowsPerPage:O.rowsPerPage,totalPages:O.totalPages,totalRows:O.totalRows,totalPagesFiltered:O.totalPagesFiltered,totalRowsFiltered:O.totalRowsFiltered,columns:l,rows:function(){return s&&0!==s.data.length?s.data.map((function(e,t){var a=(O.page-1)*O.rowsPerPage;return Object(N.jsxs)(ie,{children:[Object(N.jsx)("td",{className:"border text-center",children:a+(t+1)}),Object(N.jsx)("td",{className:"border",children:e.nama_kategori}),Object(N.jsx)("td",{className:"border",children:Object(N.jsxs)("div",{className:"flex items-center justify-center text-xs space-x-1",children:[Object(N.jsx)(L,{variant:"pill",onClick:function(){Y(!0),pe({_id:e._id,nama_kategori:e.nama_kategori})},children:"Edit"}),Object(N.jsx)(L,{theme:"red",variant:"pill",onClick:function(){J(!0),Ne({_id:e._id,nama_kategori:e.nama_kategori})},children:"Hapus"})]})})]},t)})):Object(N.jsx)("tr",{className:"text-center",children:Object(N.jsx)("td",{colSpan:l.length,children:"Data Kosong"})})},sortBy:m,searchOnChange:function(e){return k((function(t){return Object(h.a)(Object(h.a)({},t),{},{q:e,page:1})}))},pageOnChange:function(e){return k((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},rowsOnChange:function(e){return k((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:1,rowsPerPage:e})}))},sortByOnChange:function(e){return g(e)}})]})]})},ue=E.a.tr(j||(j=Object(P.a)(["\n  :nth-child(even) {\n    background-color: rgba(0, 0, 0, 0.02);\n  }\n  :hover {\n    background-color: rgba(0, 0, 0, 0.03);\n  }\n"]))),je=function(){var e={nama_satuan:""},t={_id:"",nama_satuan:""},a={_id:"",nama_satuan:""},n=Object(x.useState)(null),c=Object(S.a)(n,2),s=c[0],r=c[1],l=[{label:"No",field:"_id"},{label:"Nama Satuan",field:"nama_satuan"},{label:"Aksi",field:"aksi",disabled:!0}],o=Object(x.useState)([]),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)({field:"_id",direction:"desc"}),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)({q:"",page:1,rowsPerPage:10,totalPages:0,totalRows:0,totalPagesFiltered:0,totalRowsFiltered:0}),p=Object(S.a)(f,2),O=p[0],k=p[1],y=Object(x.useState)(!1),P=Object(S.a)(y,2),C=P[0],I=P[1],E=Object(x.useState)(!1),D=Object(S.a)(E,2),T=D[0],Y=D[1],K=Object(x.useState)(!1),M=Object(S.a)(K,2),q=M[0],J=M[1],G=Object(x.useState)(!1),W=Object(S.a)(G,2),Z=W[0],Q=W[1],$=Object(x.useState)(!1),te=Object(S.a)($,2),ae=te[0],se=te[1],re=Object(x.useState)({status:200,message:"",error:!1,duration:3e3}),le=Object(S.a)(re,2),oe=le[0],ie=le[1],de=Object(x.useState)(e),je=Object(S.a)(de,2),be=je[0],me=je[1],ge=Object(x.useState)(t),xe=Object(S.a)(ge,2),fe=xe[0],pe=xe[1],he=Object(x.useState)(a),Oe=Object(S.a)(he,2),ve=Oe[0],Ne=Oe[1],ke=Object(x.useState)(!1),ye=Object(S.a)(ke,2),we=ye[0],_e=ye[1],Se=Object(x.useState)(!1),Pe=Object(S.a)(Se,2),Ce=Pe[0],Ie=Pe[1],Re=Object(v.g)(),Be=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/satuan",{params:{q:O.q,page:O.page,rows:O.rowsPerPage,sortby:"".concat(m.field,".").concat(m.direction)},headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){r(e.data),u((function(){var t=[];return e.data.data.forEach((function(e,a){t.push({nama_satuan:e.nama_satuan})})),t})),k((function(t){return Object(h.a)(Object(h.a)({},t),{},{totalPages:Math.ceil(parseInt(e.data.total_rows)/t.rowsPerPage),totalRows:parseInt(e.data.total_rows),totalPagesFiltered:Math.ceil(parseInt(e.data.total_rows_filtered)/t.rowsPerPage),totalRowsFiltered:parseInt(e.data.total_rows_filtered)})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Re.push("/login");ie(Object(h.a)(Object(h.a)({},oe),{},{status:500,message:"Internal server error!",error:!0})),Q(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ee=function(){var t=Object(_.a)(w.a.mark((function t(a){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),Q(!1),be.nama_satuan){t.next=5;break}return _e("Nama satuan harus diisi."),t.abrupt("return",!1);case 5:return se(!0),t.next=8,R.post("/satuan",be,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(t){Be(),ie(Object(h.a)(Object(h.a)({},oe),t.data)),Q(!0),I(!1),me(e)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Re.push("/login");ie(Object(h.a)(Object(h.a)({},oe),{},{status:500,message:"Internal server error!",error:!0})),Q(!0)}));case 8:se(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),De=function(){var e=Object(_.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),Q(!1),fe.nama_satuan){e.next=5;break}return Ie("Nama satuan harus diisi."),e.abrupt("return",!1);case 5:return se(!0),e.next=8,R.put("/satuan/".concat(fe._id),{nama_satuan:fe.nama_satuan},{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){Be(),ie(Object(h.a)(Object(h.a)({},oe),e.data)),Q(!0),Y(!1),pe(t)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Re.push("/login");ie(Object(h.a)(Object(h.a)({},oe),{},{status:500,message:"Internal server error!",error:!0})),Q(!0)}));case 8:se(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!1),se(!0),e.next=4,R.delete("/satuan/".concat(ve._id),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){Be(),ie(Object(h.a)(Object(h.a)({},oe),e.data)),Q(!0),J(!1),Ne(a)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Re.push("/login");ie(Object(h.a)(Object(h.a)({},oe),{},{status:500,message:"Internal server error!",error:!0})),Q(!0)}));case 4:se(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){Be()}),[O.q,O.rowsPerPage,O.page,m]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Data Satuan | INVENTORY"})}),ae?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:Z},oe),{},{afterClose:function(){return Q(!1)}})),Object(N.jsx)(F,{show:C,afterClose:function(){I(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Tambah Satuan"}),Object(N.jsx)("button",{onClick:function(){I(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsx)("form",{onSubmit:Ee,children:Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(N.jsxs)("div",{className:"",children:["Nama Satuan ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Satuan",value:be.nama_satuan,onChange:function(e){var t=e.target.value;me((function(t){return Object(h.a)(Object(h.a)({},t),{},{nama_satuan:e.target.value})})),_e(!t&&"Nama satuan harus diisi.")}}),Object(N.jsx)("div",{className:"".concat(we?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:we})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{children:"Simpan"})})]})})]})}),Object(N.jsx)(F,{show:T,afterClose:function(){Y(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-6",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Edit Satuan"}),Object(N.jsx)("button",{onClick:function(){Y(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsx)("form",{onSubmit:De,children:Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(N.jsxs)("div",{className:"",children:["ID Satuan ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:fe._id,disabled:!0})]}),Object(N.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(N.jsxs)("div",{className:"",children:["Nama Satuan ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Satuan",value:fe.nama_satuan,onChange:function(e){var t=e.target.value;pe((function(t){return Object(h.a)(Object(h.a)({},t),{},{nama_satuan:e.target.value})})),Ie(!t&&"Nama satuan harus diisi.")}}),Object(N.jsx)("div",{className:"".concat(Ce?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:Ce})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{children:"Simpan"})})]})})]})}),Object(N.jsx)(F,{show:q,afterClose:function(){return J(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Hapus Satuan"}),Object(N.jsx)("button",{onClick:function(){J(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsxs)("div",{className:"text-sm",children:["Anda yakin ingin menghapus satuan"," ",Object(N.jsx)("strong",{children:ve.nama_satuan}),"?"]}),Object(N.jsxs)("div",{className:"flex justify-between text-sm space-x-2 mt-8",children:[Object(N.jsx)(H,{theme:"red",onClick:function(){J(!1)},children:"Batal"}),Object(N.jsx)(H,{theme:"green",onClick:Fe,children:"Ya"})]})]})}),Object(N.jsxs)(B,{children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Data Satuan Barang"}),Object(N.jsx)(H,{className:"mb-4",onClick:function(){I(!0)},children:"Tambah Satuan"}),Object(N.jsxs)(L,{className:"text-sm ml-4",children:[Object(N.jsx)(A.a,{icon:ce.a}),Object(N.jsx)(ne.CSVLink,{className:"ml-2",headers:[{label:"Satuan",key:"nama_satuan"}],data:d,filename:"Data_Satuan_INVENTORY.csv",target:"_blank",children:"Export"})]}),Object(N.jsx)(ee,{page:O.page,rowsPerPage:O.rowsPerPage,totalPages:O.totalPages,totalRows:O.totalRows,totalPagesFiltered:O.totalPagesFiltered,totalRowsFiltered:O.totalRowsFiltered,columns:l,rows:function(){return s&&0!==s.data.length?s.data.map((function(e,t){var a=(O.page-1)*O.rowsPerPage;return Object(N.jsxs)(ue,{children:[Object(N.jsx)("td",{className:"border text-center",children:a+(t+1)}),Object(N.jsx)("td",{className:"border",children:e.nama_satuan}),Object(N.jsx)("td",{className:"border",children:Object(N.jsxs)("div",{className:"flex items-center justify-center text-xs space-x-1",children:[Object(N.jsx)(L,{variant:"pill",onClick:function(){Y(!0),pe({_id:e._id,nama_satuan:e.nama_satuan})},children:"Edit"}),Object(N.jsx)(L,{theme:"red",variant:"pill",onClick:function(){J(!0),Ne({_id:e._id,nama_satuan:e.nama_satuan})},children:"Hapus"})]})})]},t)})):Object(N.jsx)("tr",{className:"text-center",children:Object(N.jsx)("td",{colSpan:l.length,children:"Data Kosong"})})},sortBy:m,searchOnChange:function(e){return k((function(t){return Object(h.a)(Object(h.a)({},t),{},{q:e,page:1})}))},pageOnChange:function(e){return k((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},rowsOnChange:function(e){return k((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:1,rowsPerPage:e})}))},sortByOnChange:function(e){return g(e)}})]})]})},be=a(50),me=function(){var e=Object(x.useState)({pengguna:0,supplier:0,barang:0,pemasukan:0,pengeluaran:0}),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(x.useState)([]),s=Object(S.a)(c,2),r=s[0],l=s[1],o=Object(x.useState)([]),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)([]),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)([]),p=Object(S.a)(f,2),O=p[0],k=p[1],y=Object(v.g)(),P={labels:new Array(ae()().daysInMonth()).fill(0).map((function(e,t){return t+1})),datasets:[{label:"Pemasukan",data:r,backgroundColor:"#8B5CF6"}]},C={labels:new Array(ae()().daysInMonth()).fill(0).map((function(e,t){return t+1})),datasets:[{label:"Pengeluaran",data:d,backgroundColor:"#EC4899"}]},I={labels:["Jan","Feb","Mar","Apr","Mei","Jun","Jul","Agu","Sep","Okt","Nov","Des"],datasets:[{label:"Pemasukan",data:m,backgroundColor:"#8B5CF6"},{label:"Pengeluaran",data:O,backgroundColor:"#EC4899"}]},E=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/pengguna/count",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){n((function(t){return Object(h.a)(Object(h.a)({},t),{},{pengguna:e.data.count})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/supplier/count",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){n((function(t){return Object(h.a)(Object(h.a)({},t),{},{supplier:e.data.count})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang/count",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){n((function(t){return Object(h.a)(Object(h.a)({},t),{},{barang:e.data.count})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),T=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang_keluar/pemasukan",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){n((function(t){return Object(h.a)(Object(h.a)({},t),{},{pemasukan:e.data.income})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang_keluar/pemasukan/bulan",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){l(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),K=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang_keluar/pemasukan/tahun",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){g(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang_masuk/pengeluaran/bulan",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){u(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang_masuk/pengeluaran/tahun",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){k(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang_masuk/pengeluaran",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){n((function(t){return Object(h.a)(Object(h.a)({},t),{},{pengeluaran:e.data.expense})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){E(),D(),F(),T(),Y(),K(),L(),M(),H()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Dashboard | INVENTORY"})}),Object(N.jsxs)(B,{children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Dashboard"}),Object(N.jsxs)("div",{className:"grid grid-cols-6 md:grid-cols-9 lg:grid-cols-12 gap-4 mb-8",children:[Object(N.jsxs)("div",{className:"col-span-3 flex items-center bg-green-500 text-gray-100 rounded-lg shadow space-x-4 px-4 py-3",children:[Object(N.jsx)(A.a,{icon:ce.b,className:"text-gray-100 text-xl"}),Object(N.jsxs)("div",{className:"flex flex-col items-start",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold",children:a.pengguna}),Object(N.jsx)("div",{className:"text-sm",children:"Pengguna"})]})]}),Object(N.jsxs)("div",{className:"col-span-3 flex items-center bg-indigo-500 text-gray-100 rounded-lg shadow space-x-4 px-4 py-3",children:[Object(N.jsx)(A.a,{icon:V.s,className:"text-gray-100 text-xl"}),Object(N.jsxs)("div",{className:"flex flex-col items-start",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold",children:a.supplier}),Object(N.jsx)("div",{className:"text-sm",children:"Supplier"})]})]}),Object(N.jsxs)("div",{className:"col-span-3 flex items-center bg-yellow-500 text-gray-100 rounded-lg shadow space-x-4 px-4 py-3",children:[Object(N.jsx)(A.a,{icon:V.f,className:"text-gray-100 text-xl"}),Object(N.jsxs)("div",{className:"flex flex-col items-start",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold",children:a.barang}),Object(N.jsx)("div",{className:"text-sm",children:"Barang"})]})]}),Object(N.jsxs)("div",{className:"col-span-3 flex items-center bg-purple-500 text-gray-100 rounded-lg shadow space-x-4 px-4 py-3",children:[Object(N.jsx)(A.a,{icon:V.p,className:"text-gray-100 text-xl"}),Object(N.jsxs)("div",{className:"flex flex-col items-start",children:[Object(N.jsxs)("div",{className:"font-montserrat font-bold",children:["Rp"," ",a.pemasukan.toLocaleString({style:"currency",currency:"USD"})]}),Object(N.jsx)("div",{className:"text-sm",children:"Pemasukan"})]})]}),Object(N.jsxs)("div",{className:"col-span-3 flex items-center bg-pink-500 text-gray-100 rounded-lg shadow space-x-4 px-4 py-3",children:[Object(N.jsx)(A.a,{icon:V.n,className:"text-gray-100 text-xl"}),Object(N.jsxs)("div",{className:"flex flex-col items-start",children:[Object(N.jsxs)("div",{className:"font-montserrat font-bold",children:["Rp"," ",a.pengeluaran.toLocaleString({style:"currency",currency:"USD"})]}),Object(N.jsx)("div",{className:"text-sm",children:"Pengeluaran"})]})]}),Object(N.jsxs)("div",{className:"col-span-3 flex items-center bg-green-500 text-gray-100 rounded-lg shadow space-x-4 px-4 py-3",children:[Object(N.jsx)(A.a,{icon:V.o,className:"text-gray-100 text-xl"}),Object(N.jsxs)("div",{className:"flex flex-col items-start",children:[Object(N.jsxs)("div",{className:"font-montserrat font-bold",children:["Rp"," ",(a.pemasukan-a.pengeluaran).toLocaleString({style:"currency",currency:"USD"})]}),Object(N.jsx)("div",{className:"text-sm",children:"Pendapatan"})]})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 mb-8",children:[Object(N.jsxs)("div",{className:"text-center",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-lg mb-6",children:"Grafik Pemasukan bulan ini"}),Object(N.jsx)(be.b,{data:P})]}),Object(N.jsxs)("div",{className:"text-center",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-lg mb-6",children:"Grafik Pengeluaran bulan ini"}),Object(N.jsx)(be.b,{data:C})]})]}),Object(N.jsxs)("div",{className:"text-center w-full md:w-5/6 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-lg mb-6",children:"Grafik Pemasukan/Pengeluaran tahun ini"}),Object(N.jsx)(be.a,{data:I})]})]})]})},ge=function(){var e=Object(x.useState)(""),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(x.useState)(""),s=Object(S.a)(c,2),r=s[0],l=s[1],o=Object(x.useState)(!1),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)(!1),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)({status:200,message:"Login Berhasil!",error:!1}),p=Object(S.a)(f,2),h=p[0],O=p[1],k=Object(x.useState)(!1),y=Object(S.a)(k,2),P=y[0],C=y[1],I=Object(x.useState)(!1),E=Object(S.a)(I,2),D=E[0],F=E[1],T=Object(v.g)(),Y=function(){var e=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),F(!1),!d&&!m&&0!==a.length&&0!==r.length){e.next=4;break}return e.abrupt("return",!1);case 4:return C(!0),e.next=7,R.post("/auth/login",{username:a,password:r}).then((function(e){O(e.data),F(!0),!1===e.data.error&&(localStorage.setItem("isLoggedIn",!0),localStorage.setItem("username",e.data.data.username),localStorage.setItem("nama",e.data.data.nama),localStorage.setItem("foto",e.data.data.foto),localStorage.setItem("role",e.data.data.role),localStorage.setItem("token",e.data.token))})).catch((function(e){console.log(e)}));case 7:C(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Login Page | INVENTORY"})}),P?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{})})}):null,Object(N.jsx)(z,{show:D,status:h.status,message:h.message,duration:3e3,afterClose:function(){F(!1),!1===h.error&&T.push("/")}}),Object(N.jsx)("div",{className:"font-poppins flex flex-col items-center bg-gray-200 w-full h-screen px-4",children:Object(N.jsx)("div",{className:"w-full sm:w-4/5 md:w-2/3 lg:w-1/2 xl:w-2/6 p-8 m-auto",children:Object(N.jsxs)(B,{children:[Object(N.jsx)("img",{src:"/img/logo.jpeg",alt:"Logo",className:"ring-2 ring-offset-4 ring-indigo-200 shadow-lg rounded-full object-cover w-20 h-20 mx-auto"}),Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl text-center mt-4 mb-2",children:"INVENTORY"}),Object(N.jsx)("div",{className:"border-b-2 w-1/4 mx-auto mb-6"}),Object(N.jsxs)("form",{onSubmit:Y,children:[Object(N.jsxs)("div",{className:"flex flex-col space-y-1 mb-4",children:[Object(N.jsx)("div",{className:"font-lato font-bold text-gray-500",children:"Username"}),Object(N.jsx)("input",{type:"text",className:"border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-200 p-2",placeholder:"Username",autoFocus:!0,value:a,onChange:function(e){var t=e.target.value;/[^a-zA-Z0-9]/.test(t)?u("Username harus terdiri dari huruf atau angka."):0===t.length?u("Username harus diisi."):u(!1),n(t)}}),Object(N.jsx)("div",{className:"text-sm tracking-wide text-red-500",children:d})]}),Object(N.jsxs)("div",{className:"flex flex-col space-y-1 mb-4",children:[Object(N.jsx)("div",{className:"font-lato font-bold text-gray-500",children:"Password"}),Object(N.jsx)("input",{type:"password",className:"border border-gray-300 rounded-md focus:outline-none focus:ring focus:ring-indigo-200 p-2",placeholder:"Password",value:r,onChange:function(e){var t=e.target.value;0===t.length?g("Password harus diisi."):t.length<6?g("Panjang password minimal 6 karakter."):g(!1),l(t)}}),Object(N.jsx)("div",{className:"text-sm tracking-wide text-red-500",children:m})]}),Object(N.jsx)(H,{type:"submit",className:"w-full",children:"Log in"})]})]})})})]})},xe=a(5),fe=function(){var e=Object(x.useState)({nama_barang:"",stok:"",harga_jual:"",harga_beli:"",id_kategori:"",id_satuan:""}),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(x.useState)({nama_barang:!1,stok:!1,harga_jual:!1,harga_beli:!1,id_kategori:!1,id_satuan:!1}),s=Object(S.a)(c,2),r=s[0],l=s[1],o=Object(x.useState)([]),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)([]),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)(!1),p=Object(S.a)(f,2),O=p[0],k=p[1],y=Object(x.useState)(!1),P=Object(S.a)(y,2),C=P[0],R=P[1],E=Object(x.useState)({status:200,message:"",duration:3e3}),D=Object(S.a)(E,2),F=D[0],T=D[1],Y=Object(v.g)(),K=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/kategori").then((function(e){u(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Y.push("/login");console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.a.get("/satuan").then((function(e){g(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Y.push("/login");console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=!1;return Object.entries(a).forEach((function(t){var a=Object(S.a)(t,2),n=a[0],c=a[1];"stok"!==n&&"harga_jual"!==n&&"harga_beli"!==n||(c=c.replace(/\D/g,"")),c||(e=!0,l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi"))})))})),!e},q=function(e){var t=e.target.name,a=e.target.value;"stok"!==t&&"harga_jual"!==t&&"harga_beli"!==t||(a=a.replace(/\D/g,"")),a?(n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))}))):(n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi"))})))},A=function(){var e=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L()){e.next=3;break}return e.abrupt("return",!1);case 3:return k(!0),e.next=6,I.a.post("/barang",a,{headers:{"Content-Type":"application/json"}}).then((function(e){T((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),R(!0)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Y.push("/login");T((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),R(!0)}));case 6:k(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"}),K(),M()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Tambah Barang | INVENTORY"})}),O?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:C},F),{},{afterClose:function(){R(!1),200===F.status&&Y.goBack()}})),Object(N.jsxs)(B,{className:"font-montserrat w-full sm:w-4/5 md:w-3/4 lg:w-2/3 xl:w-1/2 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Tambah Barang"}),Object(N.jsxs)("form",{onSubmit:A,children:[Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Nama Barang ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Barang",name:"nama_barang",value:a.nama_barang,onChange:q}),Object(N.jsx)("div",{className:"".concat(r.nama_barang?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Nama barang ".concat(r.nama_barang)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Stok ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Stok",name:"stok",value:a.stok,onChange:q}),Object(N.jsx)("div",{className:"".concat(r.stok?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Stok ".concat(r.stok)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Harga Jual ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("div",{className:"flex col-span-full md:col-span-8 border border-gray-300 rounded-md focus-within:ring focus-within:ring-indigo-200",children:[Object(N.jsx)("div",{className:"bg-gray-100  px-3 py-2",children:"Rp"}),Object(N.jsx)("input",{type:"text",className:"focus:outline-none w-full p-2",placeholder:"Harga Jual",name:"harga_jual",value:a.harga_jual,onChange:q})]}),Object(N.jsx)("div",{className:"".concat(r.harga_jual?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Harga jual ".concat(r.harga_jual)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Harga Beli ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("div",{className:"flex col-span-full md:col-span-8 border border-gray-300 rounded-md focus-within:ring focus-within:ring-indigo-200",children:[Object(N.jsx)("div",{className:"bg-gray-100  px-3 py-2",children:"Rp"}),Object(N.jsx)("input",{type:"text",className:"focus:outline-none w-full p-2",placeholder:"Harga Beli",name:"harga_beli",value:a.harga_beli,onChange:q})]}),Object(N.jsx)("div",{className:"".concat(r.harga_beli?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Harga beli ".concat(r.harga_beli)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Kategori ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:a.id_kategori,name:"id_kategori",onChange:q,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Kategori --"}),d.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e.nama_kategori},t)}))]}),Object(N.jsx)("div",{className:"".concat(r.id_kategori?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Kategori ".concat(r.id_kategori)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Satuan ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:a.id_satuan,name:"id_satuan",onChange:q,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Satuan --"}),m.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e.nama_satuan},t)}))]}),Object(N.jsx)("div",{className:"".concat(r.id_satuan?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Satuan ".concat(r.id_satuan)})]})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]})]})},pe=function(e){var t=e.match.params.id,a=Object(x.useState)({nama_barang:"",harga_jual:"",harga_beli:"",id_kategori:"",id_satuan:""}),n=Object(S.a)(a,2),c=n[0],s=n[1],r=Object(x.useState)({nama_barang:!1,harga_jual:!1,harga_beli:!1,id_kategori:!1,id_satuan:!1}),l=Object(S.a)(r,2),o=l[0],i=l[1],d=Object(x.useState)([]),u=Object(S.a)(d,2),j=u[0],b=u[1],m=Object(x.useState)([]),g=Object(S.a)(m,2),f=g[0],p=g[1],O=Object(x.useState)(!1),k=Object(S.a)(O,2),y=k[0],P=k[1],C=Object(x.useState)(!1),I=Object(S.a)(C,2),E=I[0],D=I[1],F=Object(x.useState)({status:200,message:"",duration:3e3}),T=Object(S.a)(F,2),Y=T[0],K=T[1],M=Object(v.g)(),L=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang/".concat(t),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){delete e.data.data.stok,s(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),M.push("/login");console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/kategori",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){b(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),M.push("/login");console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/satuan",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){p(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),M.push("/login");console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=!1;return Object.entries(c).forEach((function(t){var a=Object(S.a)(t,2),n=a[0],c=a[1];console.log(n,c),"harga_jual"!==n&&"harga_beli"!==n||(c=c.toString().replace(/\D/g,"")),c||(e=!0,i((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi"))})))})),!e},J=function(e){var t=e.target.name,a=e.target.value;"harga_jual"!==t&&"harga_beli"!==t||(a=a.replace(/\D/g,"")),a?(s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),i((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))}))):(s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),i((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi"))})))},G=function(){var e=Object(_.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),V()){e.next=3;break}return e.abrupt("return",!1);case 3:return P(!0),e.next=6,R.put("/barang/".concat(t),c,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){K((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),D(!0)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),M.push("/login");K((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),D(!0)}));case 6:P(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"}),q(),A()}),[]),Object(x.useEffect)((function(){L()}),[t]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Edit Barang | INVENTORY"})}),y?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:E},Y),{},{afterClose:function(){D(!1),200===Y.status&&M.goBack()}})),Object(N.jsxs)(B,{className:"font-montserrat w-full sm:w-4/5 md:w-3/4 lg:w-2/3 xl:w-1/2 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Edit Barang"}),Object(N.jsxs)("form",{onSubmit:G,children:[Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Nama Barang ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Barang",name:"nama_barang",value:c.nama_barang,onChange:J}),Object(N.jsx)("div",{className:"".concat(o.nama_barang?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Nama barang ".concat(o.nama_barang)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Harga Jual ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("div",{className:"flex col-span-full md:col-span-8 border border-gray-300 rounded-md focus-within:ring focus-within:ring-indigo-200",children:[Object(N.jsx)("div",{className:"bg-gray-100  px-3 py-2",children:"Rp"}),Object(N.jsx)("input",{type:"text",className:"focus:outline-none w-full p-2",placeholder:"Harga Jual",name:"harga_jual",value:c.harga_jual,onChange:J})]}),Object(N.jsx)("div",{className:"".concat(o.harga_jual?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Harga jual ".concat(o.harga_jual)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Harga Beli ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("div",{className:"flex col-span-full md:col-span-8 border border-gray-300 rounded-md focus-within:ring focus-within:ring-indigo-200",children:[Object(N.jsx)("div",{className:"bg-gray-100  px-3 py-2",children:"Rp"}),Object(N.jsx)("input",{type:"text",className:"focus:outline-none w-full p-2",placeholder:"Harga Beli",name:"harga_beli",value:c.harga_beli,onChange:J})]}),Object(N.jsx)("div",{className:"".concat(o.harga_beli?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Harga beli ".concat(o.harga_beli)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Kategori ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:c.id_kategori,name:"id_kategori",onChange:J,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Kategori --"}),j.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e.nama_kategori},t)}))]}),Object(N.jsx)("div",{className:"".concat(o.id_kategori?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Kategori ".concat(o.id_kategori)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Satuan ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:c.id_satuan,name:"id_satuan",onChange:J,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Satuan --"}),f.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e.nama_satuan},t)}))]}),Object(N.jsx)("div",{className:"".concat(o.id_satuan?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Satuan ".concat(o.id_satuan)})]})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]})]})},he=function(){var e=function(){return Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"absolute bg-white font-montserrat text-gray-600 transform translate-x-0 translate-y-3/4 shadow-xl rounded w-48",style:{opacity:0,visibility:"hidden",transition:"opacity .3s ease-in-out, visibility .5s ease-in-out"},children:[Object(N.jsx)("div",{className:"font-bold bg-gray-100 text-gray-500 text-center border-b px-4 py-2",children:localStorage.getItem("nama")}),Object(N.jsxs)("div",{className:"flex flex-col text-sm",children:[Object(N.jsxs)(O.b,{to:"/profile",className:"hover:bg-gray-100 px-4 py-2.5",children:[Object(N.jsx)(A.a,{icon:ce.b,className:"text-gray-500 mr-2"}),"Profle"]}),Object(N.jsxs)(O.b,{to:"/logout",className:"hover:bg-gray-100 px-4 py-2.5",children:[Object(N.jsx)(A.a,{icon:V.q,className:"text-gray-500 mr-2"}),"Logout"]})]})]})})};return Object(N.jsx)("div",{className:"sticky top-0 transform bg-gray-600 font-poppins text-gray-200 shadow-lg w-full z-20 p-5",children:Object(N.jsxs)("div",{className:"relative flex items-center justify-end",children:[Object(N.jsxs)("div",{className:"flex items-center cursor-pointer space-x-2",onClick:function(e){var t=e.currentTarget.nextElementSibling;"hidden"===t.style.visibility?(t.style.opacity="1",t.style.visibility="visible"):(t.style.opacity="0",t.style.visibility="hidden")},children:[Object(N.jsx)("div",{className:"font-montserrat font-bold",children:localStorage.getItem("nama")}),Object(N.jsx)("img",{src:"/img/".concat(localStorage.getItem("foto")),alt:"User Profile",className:"shadow-lg rounded-full object-cover w-8 h-8"})]}),Object(N.jsx)(e,{})]})})},Oe=function(e){var t=e.onShown,a=void 0===t?function(){}:t,n=function(){var e=[];return[e,function(t){return t&&e.push(t)}]}(),c=Object(S.a)(n,2),s=c[0],r=c[1],l=Object(x.useState)((function(){return"admin"===localStorage.getItem("role")?[{name:"Dashboard",icon:Object(N.jsx)(A.a,{icon:V.k}),href:"/",exact:!0},{name:"Data Pengguna",icon:Object(N.jsx)(A.a,{icon:V.t}),href:"/pengguna"},{name:"Barang",icon:Object(N.jsx)(A.a,{icon:V.i}),children:[{name:"Data Barang",href:"/barang"},{name:"Kategori Barang",href:"/kategori"},{name:"Satuan Barang",href:"/satuan"}]},{name:"Supplier",icon:Object(N.jsx)(A.a,{icon:V.s}),href:"/supplier"},{name:"Barang Masuk",icon:Object(N.jsx)(A.a,{icon:V.f}),href:"/barang_masuk"},{name:"Barang Keluar",icon:Object(N.jsx)(A.a,{icon:V.g}),href:"/barang_keluar"},{name:"Laporan",icon:Object(N.jsx)(A.a,{icon:V.j}),href:"/laporan"},{name:"Logout",icon:Object(N.jsx)(A.a,{icon:V.q}),href:"/logout"}]:[{name:"Dashboard",icon:Object(N.jsx)(A.a,{icon:V.k}),href:"/",exact:!0},{name:"Barang",icon:Object(N.jsx)(A.a,{icon:V.i}),children:[{name:"Data Barang",href:"/barang"},{name:"Kategori Barang",href:"/kategori"},{name:"Satuan Barang",href:"/satuan"}]},{name:"Supplier",icon:Object(N.jsx)(A.a,{icon:V.s}),href:"/supplier"},{name:"Barang Masuk",icon:Object(N.jsx)(A.a,{icon:V.f}),href:"/barang_masuk"},{name:"Barang Keluar",icon:Object(N.jsx)(A.a,{icon:V.g}),href:"/barang_keluar"},{name:"Laporan",icon:Object(N.jsx)(A.a,{icon:ce.a}),href:"/laporan"},{name:"Logout",icon:Object(N.jsx)(A.a,{icon:V.q}),href:"/logout"}]})),o=Object(S.a)(l,1)[0],i=function(e){var t=e.currentTarget.lastElementChild,a=e.currentTarget.nextElementSibling,n=a.lastElementChild;a.clientHeight>0?(t.classList.remove("rotate-90"),a.style.height=0):(t.classList.add("rotate-90"),a.style.height=n.clientHeight+"px")};return Object(x.useEffect)((function(){window.innerWidth<=768?a(!1):a(!0)}),[]),Object(x.useEffect)((function(){s.forEach((function(e,t){var a=e.parentElement,n=a.previousElementSibling.lastElementChild;e.getElementsByClassName("active").length>0?(n.classList.add("rotate-90"),a.style.height=e.clientHeight+"px"):(n.classList.remove("rotate-90"),a.style.height=0)}))}),[s]),Object(N.jsx)(N.Fragment,{children:Object(N.jsxs)("div",{className:"font-montserrat overflow-y-auto px-2",children:[Object(N.jsx)("div",{className:"font-bold text-white text-xl text-center",children:"INVENTORY"}),Object(N.jsx)("div",{className:"border-b w-4/5 mx-auto my-4"}),Object(N.jsx)("div",{className:"text-sm py-4",children:Object(N.jsx)("ul",{className:"flex flex-col text-gray-200 space-y-2",children:o.map((function(e,t){return e.children?Object(N.jsxs)("li",{children:[Object(N.jsxs)("button",{className:"flex items-center justify-between hover:bg-gray-500 rounded w-full px-2.5 py-1.5",onClick:i,children:[Object(N.jsxs)("div",{className:"flex items-center space-x-2",children:[Object(N.jsx)("div",{className:"backdrop-filter backdrop-brightness-125 text-center rounded w-8 px-1.5 py-1",children:e.icon}),Object(N.jsx)("span",{children:e.name})]}),Object(N.jsx)(A.a,{icon:V.h,className:"transition-transform duration-300 transform"})]}),Object(N.jsx)("div",{className:"overflow-hidden",style:{height:0,transition:"height .5s ease-in-out"},children:Object(N.jsx)("ul",{ref:r,className:"dropdown-menu flex flex-col font-poppins text-gray-200 space-y-2 p-2",children:e.children.map((function(e,t){return Object(N.jsx)("li",{children:Object(N.jsx)(O.c,{exact:e.exact,activeClassName:"active bg-gray-100 text-gray-600 shadow-xl",to:e.href,className:"block rounded px-2.5 py-1.5",children:e.name})},t)}))})})]},t):Object(N.jsx)("li",{children:Object(N.jsxs)(O.c,{exact:e.exact,activeClassName:"active bg-gray-100 text-gray-600 shadow-xl",to:e.href,className:"flex items-center hover:backdrop-filter hover:backdrop-brightness-125 rounded space-x-2 px-2.5 py-1.5",children:[Object(N.jsx)("div",{className:"backdrop-filter backdrop-brightness-125 text-center rounded w-8 px-1.5 py-1",children:e.icon}),Object(N.jsx)("span",{children:e.name})]})},t)}))})})]})})},ve=function(e){var t=e.children,a=Object(x.useState)(!0),n=Object(S.a)(a,2),c=n[0],s=n[1];return Object(N.jsx)("div",{className:"bg-gray-100 w-full min-h-screen",children:Object(N.jsxs)("div",{className:"flex flex-1",children:[Object(N.jsxs)("div",{className:"fixed lg:sticky top-0 bg-gray-600 transform shadow-xl ".concat(c?"translate-x-0 lg:translate-x-0 w-1/2 sm:w-1/3 md:w-1/4 lg:w-1/5":"-translate-x-full lg:-translate-x-full w-0"," h-screen z-30 py-4"),style:{transition:"width .5s ease-in-out, transform .5s ease-in-out"},children:[Object(N.jsx)(Oe,{show:c,onShown:function(e){return s(e)}}),Object(N.jsx)("div",{className:"absolute top-2 left-full bg-gray-600 p-4",children:Object(N.jsx)("button",{onClick:function(){s((function(e){return!e}))},children:Object(N.jsx)(A.a,{icon:V.e,className:"text-gray-200 text-xl"})})})]}),Object(N.jsxs)("div",{className:"".concat(c?"translate-x-0":"-translate-x-1/5"," w-full"),style:{transition:"transform .5s ease-in-out"},children:[Object(N.jsx)(he,{onToggleClick:function(e){return s("open"===e)}}),Object(N.jsx)("div",{className:"w-full p-4 md:p-6",children:t})]})]})})},Ne=E.a.tr(b||(b=Object(P.a)(["\n  :nth-child(even) {\n    background-color: rgba(0, 0, 0, 0.02);\n  }\n  :hover {\n    background-color: rgba(0, 0, 0, 0.03);\n  }\n"]))),ke=function(){var e={_id:"",nama_supplier:""},t=Object(x.useState)(null),a=Object(S.a)(t,2),n=a[0],c=a[1],s=[{label:"No",field:"_id"},{label:"Nama Supplier",field:"nama_supplier"},{label:"No telp",field:"no_telp"},{label:"Alamat",field:"alamat"},{label:"Aksi",field:"aksi",disabled:!0}],r=Object(x.useState)([]),l=Object(S.a)(r,2),o=l[0],i=l[1],d=Object(x.useState)({field:"_id",direction:"desc"}),u=Object(S.a)(d,2),j=u[0],b=u[1],m=Object(x.useState)({q:"",page:1,rowsPerPage:10,totalPages:0,totalRows:0,totalPagesFiltered:0,totalRowsFiltered:0}),g=Object(S.a)(m,2),f=g[0],p=g[1],O=Object(x.useState)(!1),k=Object(S.a)(O,2),y=k[0],P=k[1],C=Object(x.useState)(!1),I=Object(S.a)(C,2),E=I[0],D=I[1],T=Object(x.useState)(!1),Y=Object(S.a)(T,2),K=Y[0],M=Y[1],q=Object(x.useState)({status:200,message:"",error:!1,duration:3e3}),J=Object(S.a)(q,2),G=J[0],W=J[1],Z=Object(x.useState)(e),Q=Object(S.a)(Z,2),$=Q[0],te=Q[1],ae=Object(v.g)(),se=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/supplier",{params:{q:f.q,page:f.page,rows:f.rowsPerPage,sortby:"".concat(j.field,".").concat(j.direction)},headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){c(e.data),i((function(){var t=[];return e.data.data.forEach((function(e,a){t.push({nama_supplier:e.nama_supplier,no_telp:"'".concat(e.no_telp),alamat:e.alamat})})),t})),p((function(t){return Object(h.a)(Object(h.a)({},t),{},{totalPages:Math.ceil(parseInt(e.data.total_rows)/t.rowsPerPage),totalRows:parseInt(e.data.total_rows),totalPagesFiltered:Math.ceil(parseInt(e.data.total_rows_filtered)/t.rowsPerPage),totalRowsFiltered:parseInt(e.data.total_rows_filtered)})}))})).catch((function(e){if(console.log(e),401===e.response.status)return localStorage.clear(),ae.push("/login");W(Object(h.a)(Object(h.a)({},G),{},{status:500,message:"Internal server error!",error:!0})),D(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),re=function(){var t=Object(_.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(!1),M(!0),t.next=4,R.delete("/supplier/".concat($._id),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(t){se(),W(Object(h.a)(Object(h.a)({},G),t.data)),D(!0),P(!1),te(e)})).catch((function(e){if(console.log(e),401===e.response.status)return localStorage.clear(),ae.push("/login");W(Object(h.a)(Object(h.a)({},G),{},{status:500,message:"Internal server error!",error:!0})),D(!0)}));case 4:M(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){se()}),[f.q,f.rowsPerPage,f.page,j]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Data Supplier | INVENTORY"})}),K?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:E},G),{},{afterClose:function(){return D(!1)}})),Object(N.jsx)(F,{show:y,afterClose:function(){return P(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Hapus Supplier"}),Object(N.jsx)("button",{onClick:function(){P(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsxs)("div",{className:"text-sm",children:["Anda yakin ingin menghapus supplier"," ",Object(N.jsx)("strong",{children:$.nama_supplier}),"?"]}),Object(N.jsxs)("div",{className:"flex justify-between text-sm space-x-2 mt-8",children:[Object(N.jsx)(H,{theme:"red",onClick:function(){P(!1)},children:"Batal"}),Object(N.jsx)(H,{theme:"green",onClick:re,children:"Ya"})]})]})}),Object(N.jsxs)(B,{children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Data Supplier"}),Object(N.jsx)(H,{className:"mb-4",onClick:function(){ae.push("/supplier/tambah")},children:"Tambah Supplier"}),Object(N.jsxs)(L,{className:"text-sm ml-4",children:[Object(N.jsx)(A.a,{icon:ce.a}),Object(N.jsx)(ne.CSVLink,{className:"ml-2",headers:[{label:"Supplier",key:"nama_supplier"},{label:"No telp",key:"no_telp"},{label:"Alamat",key:"alamat"}],data:o,filename:"Data_Supplier_INVENTORY.csv",target:"_blank",children:"Export"})]}),Object(N.jsx)(ee,{page:f.page,rowsPerPage:f.rowsPerPage,totalPages:f.totalPages,totalRows:f.totalRows,totalPagesFiltered:f.totalPagesFiltered,totalRowsFiltered:f.totalRowsFiltered,columns:s,rows:function(){return n&&0!==n.data.length?n.data.map((function(e,t){var a=(f.page-1)*f.rowsPerPage;return Object(N.jsxs)(Ne,{children:[Object(N.jsx)("td",{className:"border text-center",children:a+(t+1)}),Object(N.jsx)("td",{className:"border",children:e.nama_supplier}),Object(N.jsx)("td",{className:"border text-center",children:e.no_telp}),Object(N.jsx)("td",{className:"border",children:e.alamat}),Object(N.jsx)("td",{className:"border",children:Object(N.jsxs)("div",{className:"flex items-center justify-center text-xs space-x-1",children:[Object(N.jsx)(L,{variant:"pill",onClick:function(){ae.push("/supplier/".concat(e._id,"/edit"))},children:"Edit"}),Object(N.jsx)(L,{theme:"red",variant:"pill",onClick:function(){P(!0),te({_id:e._id,nama_supplier:e.nama_supplier})},children:"Hapus"})]})})]},t)})):Object(N.jsx)("tr",{className:"text-center",children:Object(N.jsx)("td",{colSpan:s.length,children:"Data Kosong"})})},sortBy:j,searchOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{q:e,page:1})}))},pageOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},rowsOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:1,rowsPerPage:e})}))},sortByOnChange:function(e){return b(e)}})]})]})},ye=function(){var e=Object(x.useState)({nama_supplier:"",no_telp:"",alamat:""}),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(x.useState)({nama_supplier:!1,no_telp:!1,alamat:!1}),s=Object(S.a)(c,2),r=s[0],l=s[1],o=Object(x.useState)(!1),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)(!1),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)({status:200,message:"",duration:3e3}),p=Object(S.a)(f,2),O=p[0],k=p[1],y=Object(v.g)(),P=function(){var e=!1;return Object.entries(a).forEach((function(t){var a=Object(S.a)(t,2),n=a[0],c=a[1];"no_telp"===n&&(c=c.replace(/\D/g,"")),c||(e=!0,l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi"))})))})),!e},C=function(e){var t=e.target.name,a=e.target.value;"no_telp"===t&&(a=a.replace(/\D/g,"")),a?(n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))}))):(n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi"))})))},I=function(){var e=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),P()){e.next=3;break}return e.abrupt("return",!1);case 3:return u(!0),e.next=6,R.post("/supplier",a,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){k((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),g(!0)})).catch((function(e){if(console.log(e),401===e.response.status)return localStorage.clear(),y.push("/login");k((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),g(!0)}));case 6:u(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"})}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Tambah Supplier"})}),d?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:m},O),{},{afterClose:function(){g(!1),200===O.status&&y.goBack()}})),Object(N.jsxs)(B,{className:"font-montserrat w-full sm:w-4/5 md:w-3/4 lg:w-2/3 xl:w-1/2 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Tambah Supplier"}),Object(N.jsxs)("form",{onSubmit:I,children:[Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Nama Supplier ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Supplier",name:"nama_supplier",value:a.nama_supplier,onChange:C}),Object(N.jsx)("div",{className:"".concat(r.nama_supplier?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Nama supplier ".concat(r.nama_supplier)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["No telp ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"No telp",name:"no_telp",value:a.no_telp,onChange:C}),Object(N.jsx)("div",{className:"".concat(r.no_telp?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"No telp ".concat(r.no_telp)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-start gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Alamat ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("textarea",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Alamat",name:"alamat",value:a.alamat,onChange:C}),Object(N.jsx)("div",{className:"".concat(r.alamat?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Alamat ".concat(r.alamat)})]})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]})]})},we=function(e){var t=e.match.params.id,a=Object(x.useState)({nama_supplier:"",no_telp:"",alamat:""}),n=Object(S.a)(a,2),c=n[0],s=n[1],r=Object(x.useState)({nama_supplier:!1,no_telp:!1,alamat:!1}),l=Object(S.a)(r,2),o=l[0],i=l[1],d=Object(x.useState)(!1),u=Object(S.a)(d,2),j=u[0],b=u[1],m=Object(x.useState)(!1),g=Object(S.a)(m,2),f=g[0],p=g[1],O=Object(x.useState)({status:200,message:"",duration:3e3}),k=Object(S.a)(O,2),y=k[0],P=k[1],C=Object(v.g)(),I=function(){var e=!1;return console.log(o),Object.entries(c).forEach((function(t){var a=Object(S.a)(t,2),n=a[0],c=a[1];"no_telp"===n&&(c=c.replace(/\D/g,"")),c||(e=!0,i((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi"))})))})),console.log(o),!e},E=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/supplier/".concat(t),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){s(e.data.data)})).catch((function(e){if(console.log(e),401===e.response.status)return localStorage.clear(),C.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(e){var t=e.target.name,a=e.target.value;"no_telp"===t&&(a=a.replace(/\D/g,"")),a?(s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),i((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))}))):(s((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),i((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi"))})))},F=function(){var e=Object(_.a)(w.a.mark((function e(a){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),I()){e.next=3;break}return e.abrupt("return",!1);case 3:return b(!0),e.next=6,R.put("/supplier/".concat(t),c,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){P((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),p(!0)})).catch((function(e){if(console.log(e),401===e.response.status)return localStorage.clear(),C.push("/login");P((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),p(!0)}));case 6:b(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"}),E()}),[t]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Edit Supplier | INVENTORY"})}),j?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:f},y),{},{afterClose:function(){p(!1),200===y.status&&C.goBack()}})),Object(N.jsxs)(B,{className:"font-montserrat w-full sm:w-4/5 md:w-3/4 lg:w-2/3 xl:w-1/2 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Edit Supplier"}),Object(N.jsxs)("form",{onSubmit:F,children:[Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Nama Supplier ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Supplier",name:"nama_supplier",value:c.nama_supplier,onChange:D}),Object(N.jsx)("div",{className:"".concat(o.nama_supplier?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Nama supplier ".concat(o.nama_supplier)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["No telp ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"No telp",name:"no_telp",value:c.no_telp,onChange:D}),Object(N.jsx)("div",{className:"".concat(o.no_telp?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"No telp ".concat(o.no_telp)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-start gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Alamat ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("textarea",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Alamat",name:"alamat",value:c.alamat,onChange:D}),Object(N.jsx)("div",{className:"".concat(o.alamat?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Alamat ".concat(o.alamat)})]})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]})]})},_e=E.a.tr(m||(m=Object(P.a)(["\n  :nth-child(even) {\n    background-color: rgba(0, 0, 0, 0.02);\n  }\n  :hover {\n    background-color: rgba(0, 0, 0, 0.03);\n  }\n"]))),Se=function(){var e={no_transaksi:""},t=Object(x.useState)(null),a=Object(S.a)(t,2),n=a[0],c=a[1],s=[{label:"No",field:"created_at",disabled:!0},{label:"No Transaksi",field:"no_transaksi"},{label:"Supplier",field:"nama_supplier",disabled:!0},{label:"Nama Barang",field:"nama_barang",disabled:!0},{label:"Kuantitas",field:"kuantitas"},{label:"Harga Beli",field:"harga_beli",disabled:!0},{label:"Total Harga",field:"total_harga",disabled:!0},{label:"User",field:"username",disabled:!0},{label:"Tgl Masuk",field:"created_at"},{label:"Aksi",field:"aksi",disabled:!0}],r=Object(x.useState)([]),l=Object(S.a)(r,2),o=l[0],i=l[1],d=Object(x.useState)({field:"no_transaksi",direction:"desc"}),u=Object(S.a)(d,2),j=u[0],b=u[1],m=Object(x.useState)({q:"",page:1,rowsPerPage:10,totalPages:0,totalRows:0,totalPagesFiltered:0,totalRowsFiltered:0}),g=Object(S.a)(m,2),f=g[0],p=g[1],O=Object(x.useState)(!1),k=Object(S.a)(O,2),y=k[0],P=k[1],C=Object(x.useState)(!1),I=Object(S.a)(C,2),E=I[0],D=I[1],T=Object(x.useState)(!1),Y=Object(S.a)(T,2),K=Y[0],M=Y[1],q=Object(x.useState)({status:200,message:"",error:!1,duration:3e3}),J=Object(S.a)(q,2),G=J[0],W=J[1],Z=Object(x.useState)(e),Q=Object(S.a)(Z,2),$=Q[0],te=Q[1],se=Object(v.g)(),re=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang_masuk",{params:{q:f.q,page:f.page,rows:f.rowsPerPage,sortby:"".concat(j.field,".").concat(j.direction)},headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){c(e.data),i((function(){var t=[];return e.data.data.forEach((function(e,a){t.push({no_transaksi:e.no_transaksi,supplier:e.id_supplier.nama_supplier,nama_barang:e.barang_masuk.nama_barang,kuantitas:e.kuantitas,harga_beli:e.harga_beli,total_harga:e.harga_beli*e.kuantitas,username:e.user_input.nama,created_at:ae()(e.created_at).format("YYYY MM DD")})})),t})),p((function(t){return Object(h.a)(Object(h.a)({},t),{},{totalPages:Math.ceil(parseInt(e.data.total_rows)/t.rowsPerPage),totalRows:parseInt(e.data.total_rows),totalPagesFiltered:Math.ceil(parseInt(e.data.total_rows_filtered)/t.rowsPerPage),totalRowsFiltered:parseInt(e.data.total_rows_filtered)})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),se.push("/login");W(Object(h.a)(Object(h.a)({},G),{},{status:500,message:"Internal server error!",error:!0})),D(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var t=Object(_.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(!1),M(!0),t.next=4,R.delete("/barang_masuk/".concat($.no_transaksi),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(t){re(),W(Object(h.a)(Object(h.a)({},G),t.data)),D(!0),P(!1),te(e)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),se.push("/login");W(Object(h.a)(Object(h.a)({},G),{},{status:500,message:"Internal server error!",error:!0})),D(!0)}));case 4:M(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){re()}),[f.q,f.rowsPerPage,f.page,j]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Data Barang Masuk | INVENTORY"})}),K?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:E},G),{},{afterClose:function(){return D(!1)}})),Object(N.jsx)(F,{show:y,afterClose:function(){return P(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Hapus Transaksi Barang Masuk"}),Object(N.jsx)("button",{onClick:function(){P(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsxs)("div",{className:"text-sm",children:["Anda yakin ingin menghapus Transaksi"," ",Object(N.jsx)("strong",{className:"font-lato",children:$.no_transaksi}),"?"]}),Object(N.jsxs)("div",{className:"flex justify-between text-sm space-x-2 mt-8",children:[Object(N.jsx)(H,{theme:"red",onClick:function(){P(!1)},children:"Batal"}),Object(N.jsx)(H,{theme:"green",onClick:le,children:"Ya"})]})]})}),Object(N.jsxs)(B,{children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Data Barang Masuk"}),Object(N.jsx)(H,{className:"mb-4",onClick:function(){se.push("/barang_masuk/tambah")},children:"Tambah Barang Masuk"}),Object(N.jsxs)(L,{className:"text-sm ml-4",children:[Object(N.jsx)(A.a,{icon:ce.a}),Object(N.jsx)(ne.CSVLink,{className:"ml-2",headers:[{label:"No Transaksi",key:"no_transaksi"},{label:"Supplier",key:"supplier"},{label:"Nama Barang",key:"nama_barang"},{label:"Kuantitas",key:"kuantitas"},{label:"Harga Beli",key:"harga_beli"},{label:"Total Harga",key:"total_harga"},{label:"User",key:"username"},{label:"Tgl Masuk",key:"created_at"}],data:o,filename:"Data_Barang_Masuk_INVENTORY.csv",target:"_blank",children:"Export"})]}),Object(N.jsx)(ee,{page:f.page,rowsPerPage:f.rowsPerPage,totalPages:f.totalPages,totalRows:f.totalRows,totalPagesFiltered:f.totalPagesFiltered,totalRowsFiltered:f.totalRowsFiltered,columns:s,rows:function(){return n&&0!==n.data.length?n.data.map((function(e,t){var a=(f.page-1)*f.rowsPerPage;return Object(N.jsxs)(_e,{children:[Object(N.jsx)("td",{className:"border text-center",children:a+(t+1)}),Object(N.jsx)("td",{className:"border text-center font-lato",children:e.no_transaksi}),Object(N.jsx)("td",{className:"border",children:e.id_supplier.nama_supplier}),Object(N.jsx)("td",{className:"border",children:e.barang_masuk.nama_barang}),Object(N.jsx)("td",{className:"border text-center",children:e.kuantitas}),Object(N.jsx)("td",{className:"border text-right",children:"Rp ".concat(e.harga_beli.toLocaleString({style:"currency",currency:"IDR"}),"/").concat(e.barang_masuk.id_satuan.nama_satuan)}),Object(N.jsx)("td",{className:"border text-right",children:"Rp ".concat((e.harga_beli*e.kuantitas).toLocaleString({style:"currency",currency:"IDR"}))}),Object(N.jsx)("td",{className:"border text-center",children:e.user_input.nama}),Object(N.jsx)("td",{className:"border text-center",children:ae()(e.created_at).format("YYYY-MM-DD")}),Object(N.jsx)("td",{className:"border",children:Object(N.jsx)("div",{className:"flex items-center justify-center text-xs space-x-1",children:Object(N.jsx)(L,{theme:"red",variant:"pill",onClick:function(){P(!0),te({no_transaksi:e.no_transaksi})},children:"Hapus"})})})]},t)})):Object(N.jsx)("tr",{className:"text-center",children:Object(N.jsx)("td",{colSpan:s.length,children:"Data Kosong"})})},sortBy:j,searchOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{q:e,page:1})}))},pageOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},rowsOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:1,rowsPerPage:e})}))},sortByOnChange:function(e){return b(e)}})]})]})},Pe=function(){var e=Object(x.useState)({id_supplier:"",kode_barang:"",kuantitas:"",harga_beli:"",username:localStorage.getItem("username")}),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(x.useState)({id_supplier:!1,kode_barang:!1,kuantitas:!1,harga_beli:!1}),s=Object(S.a)(c,2),r=s[0],l=s[1],o=Object(x.useState)([]),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)([]),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)(!1),p=Object(S.a)(f,2),O=p[0],k=p[1],y=Object(x.useState)(!1),P=Object(S.a)(y,2),C=P[0],I=P[1],E=Object(x.useState)({status:200,message:"",duration:3e3}),D=Object(S.a)(E,2),F=D[0],T=D[1],Y=Object(v.g)(),K=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){u(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/supplier",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){g(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Y.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=!1;return Object.entries(a).forEach((function(t){var a=Object(S.a)(t,2),n=a[0],c=a[1];console.log(n,c),"kuantitas"===n&&(c=c.replace(/\D/g,"")),c||(e=!0,l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi"))})))})),!e},q=function(e){var t=e.target.name,a=e.target.value;if("kuantitas"===t&&(a=a.replace(/\D/g,"")),a){if("kode_barang"===t){var c=d.find((function(e){return e.kode_barang===a})).harga_beli;n((function(e){var n;return Object(h.a)(Object(h.a)({},e),{},(n={},Object(xe.a)(n,t,a),Object(xe.a)(n,"harga_beli",c),n))}))}else n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))}));l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))}))}else n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi"))}))},A=function(){var e=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),L()){e.next=3;break}return e.abrupt("return",!1);case 3:return k(!0),e.next=6,R.post("/barang_masuk",a,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){T((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),I(!0)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),Y.push("/login");T((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),I(!0)}));case 6:k(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"}),K(),M()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Tambah Barang Masuk | INVENTORY"})}),O?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:C},F),{},{afterClose:function(){I(!1),200===F.status&&Y.goBack()}})),Object(N.jsxs)(B,{className:"font-montserrat w-full sm:w-4/5 md:w-3/4 lg:w-2/3 xl:w-1/2 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Tambah Barang Masuk"}),Object(N.jsxs)("form",{onSubmit:A,children:[Object(N.jsxs)("div",{className:"flex flex-col justify-center space-y-4",children:[Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Supplier ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:a.id_supplier,name:"id_supplier",onChange:q,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Supplier --"}),m.map((function(e,t){return Object(N.jsx)("option",{value:e._id,children:e.nama_supplier},t)}))]}),Object(N.jsx)("div",{className:"".concat(r.id_supplier?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Supplier ".concat(r.id_supplier)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Barang Masuk ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:a.kode_barang,name:"kode_barang",onChange:q,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Barang --"}),d.map((function(e,t){return Object(N.jsx)("option",{value:e.kode_barang,children:"".concat(e.kode_barang," | ").concat(e.nama_barang)},t)}))]}),Object(N.jsx)("div",{className:"".concat(r.kode_barang?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Barang ".concat(r.kode_barang)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Kuantitas ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Kuantitas",name:"kuantitas",value:a.kuantitas,onChange:q}),Object(N.jsx)("div",{className:"".concat(r.kuantitas?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Kuantitas ".concat(r.kuantitas)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Harga Beli ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("div",{className:"flex col-span-full md:col-span-8 border border-gray-300 rounded-md focus-within:ring focus-within:ring-indigo-200",children:[Object(N.jsx)("div",{className:"bg-gray-100  px-3 py-2",children:"Rp"}),Object(N.jsx)("input",{type:"text",className:"bg-gray-50 focus:outline-none w-full p-2",placeholder:"Harga Beli",name:"harga_beli",value:a.harga_beli,onChange:q,readOnly:!0})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Total Harga ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("div",{className:"flex col-span-full md:col-span-8 border border-gray-300 rounded-md focus-within:ring focus-within:ring-indigo-200",children:[Object(N.jsx)("div",{className:"bg-gray-100  px-3 py-2",children:"Rp"}),Object(N.jsx)("input",{type:"text",className:"bg-gray-50 focus:outline-none w-full p-2",placeholder:"Total Harga",name:"total_harga",value:a.harga_beli*a.kuantitas,onChange:q,readOnly:!0})]})]})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]})]})},Ce=E.a.tr(g||(g=Object(P.a)(["\n  :nth-child(even) {\n    background-color: rgba(0, 0, 0, 0.02);\n  }\n  :hover {\n    background-color: rgba(0, 0, 0, 0.03);\n  }\n"]))),Ie=function(){var e={no_transaksi:""},t=Object(x.useState)(null),a=Object(S.a)(t,2),n=a[0],c=a[1],s=[{label:"No",field:"created_at",disabled:!0},{label:"No Transaksi",field:"no_transaksi"},{label:"Nama Barang",field:"nama_barang",disabled:!0},{label:"Kuantitas",field:"kuantitas"},{label:"Harga Jual",field:"harga_jual",disabled:!0},{label:"Total Harga",field:"total_harga",disabled:!0},{label:"User",field:"username",disabled:!0},{label:"Tgl Keluar",field:"created_at"},{label:"Aksi",field:"aksi",disabled:!0}],r=Object(x.useState)([]),l=Object(S.a)(r,2),o=l[0],i=l[1],d=Object(x.useState)({field:"no_transaksi",direction:"desc"}),u=Object(S.a)(d,2),j=u[0],b=u[1],m=Object(x.useState)({q:"",page:1,rowsPerPage:10,totalPages:0,totalRows:0,totalPagesFiltered:0,totalRowsFiltered:0}),g=Object(S.a)(m,2),f=g[0],p=g[1],O=Object(x.useState)(!1),k=Object(S.a)(O,2),y=k[0],P=k[1],C=Object(x.useState)(!1),I=Object(S.a)(C,2),E=I[0],D=I[1],T=Object(x.useState)(!1),Y=Object(S.a)(T,2),K=Y[0],M=Y[1],q=Object(x.useState)({status:200,message:"",error:!1,duration:3e3}),J=Object(S.a)(q,2),G=J[0],W=J[1],Z=Object(x.useState)(e),Q=Object(S.a)(Z,2),$=Q[0],te=Q[1],se=Object(v.g)(),re=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang_keluar",{params:{q:f.q,page:f.page,rows:f.rowsPerPage,sortby:"".concat(j.field,".").concat(j.direction)},headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){c(e.data),i((function(){var t=[];return e.data.data.forEach((function(e,a){t.push({no_transaksi:e.no_transaksi,nama_barang:e.barang_keluar.nama_barang,kuantitas:e.kuantitas,harga_jual:e.harga_jual,total_harga:e.harga_jual*e.kuantitas,username:e.user_input.nama,created_at:ae()(e.created_at).format("YYYY MM DD")})})),t})),p((function(t){return Object(h.a)(Object(h.a)({},t),{},{totalPages:Math.ceil(parseInt(e.data.total_rows)/t.rowsPerPage),totalRows:parseInt(e.data.total_rows),totalPagesFiltered:Math.ceil(parseInt(e.data.total_rows_filtered)/t.rowsPerPage),totalRowsFiltered:parseInt(e.data.total_rows_filtered)})}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),se.push("/login");W(Object(h.a)(Object(h.a)({},G),{},{status:500,message:"Internal server error!",error:!0})),D(!0)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var t=Object(_.a)(w.a.mark((function t(){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return D(!1),M(!0),t.next=4,R.delete("/barang_keluar/".concat($.no_transaksi),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(t){re(),W(Object(h.a)(Object(h.a)({},G),t.data)),D(!0),P(!1),te(e)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),se.push("/login");W(Object(h.a)(Object(h.a)({},G),{},{status:500,message:"Internal server error!",error:!0})),D(!0)}));case 4:M(!1);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(x.useEffect)((function(){re()}),[f.q,f.rowsPerPage,f.page,j]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Data Barang Keluar | INVENTORY"})}),K?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:E},G),{},{afterClose:function(){return D(!1)}})),Object(N.jsx)(F,{show:y,afterClose:function(){return P(!1)},children:Object(N.jsxs)(B,{className:"font-montserrat",children:[Object(N.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500 text-lg border-b pb-2",children:"Hapus Transaksi Barang Keluar"}),Object(N.jsx)("button",{onClick:function(){P(!1)},children:Object(N.jsx)(A.a,{icon:V.r,className:"text-gray-300 text-sm"})})]}),Object(N.jsxs)("div",{className:"text-sm",children:["Anda yakin ingin menghapus Transaksi"," ",Object(N.jsx)("strong",{className:"font-lato",children:$.no_transaksi}),"?"]}),Object(N.jsxs)("div",{className:"flex justify-between text-sm space-x-2 mt-8",children:[Object(N.jsx)(H,{theme:"red",onClick:function(){P(!1)},children:"Batal"}),Object(N.jsx)(H,{theme:"green",onClick:le,children:"Ya"})]})]})}),Object(N.jsxs)(B,{children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Data Barang Keluar"}),Object(N.jsx)(H,{className:"mb-4",onClick:function(){se.push("/barang_keluar/tambah")},children:"Tambah Barang Keluar"}),Object(N.jsxs)(L,{className:"text-sm ml-4",children:[Object(N.jsx)(A.a,{icon:ce.a}),Object(N.jsx)(ne.CSVLink,{className:"ml-2",headers:[{label:"No Transaksi",key:"no_transaksi"},{label:"Nama Barang",key:"nama_barang"},{label:"Kuantitas",key:"kuantitas"},{label:"Harga Jual",key:"harga_jual"},{label:"Total Harga",key:"total_harga"},{label:"User",key:"username"},{label:"Tgl Keluar",key:"created_at"}],data:o,filename:"Data_Barang_Keluar_INVENTORY.csv",target:"_blank",children:"Export"})]}),Object(N.jsx)(ee,{page:f.page,rowsPerPage:f.rowsPerPage,totalPages:f.totalPages,totalRows:f.totalRows,totalPagesFiltered:f.totalPagesFiltered,totalRowsFiltered:f.totalRowsFiltered,columns:s,rows:function(){return n&&0!==n.data.length?n.data.map((function(e,t){var a=(f.page-1)*f.rowsPerPage;return Object(N.jsxs)(Ce,{children:[Object(N.jsx)("td",{className:"border text-center",children:a+(t+1)}),Object(N.jsx)("td",{className:"border text-center font-lato",children:e.no_transaksi}),Object(N.jsx)("td",{className:"border",children:e.barang_keluar.nama_barang}),Object(N.jsx)("td",{className:"border text-center",children:e.kuantitas}),Object(N.jsx)("td",{className:"border text-right",children:"Rp ".concat(e.harga_jual.toLocaleString({style:"currency",currency:"IDR"}),"/").concat(e.barang_keluar.id_satuan.nama_satuan)}),Object(N.jsx)("td",{className:"border text-right",children:"Rp ".concat((e.harga_jual*e.kuantitas).toLocaleString({style:"currency",currency:"IDR"}))}),Object(N.jsx)("td",{className:"border text-center",children:e.user_input.nama}),Object(N.jsx)("td",{className:"border text-center",children:ae()(e.created_at).format("YYYY-MM-DD")}),Object(N.jsx)("td",{className:"border",children:Object(N.jsx)("div",{className:"flex items-center justify-center text-xs space-x-1",children:Object(N.jsx)(L,{theme:"red",variant:"pill",onClick:function(){P(!0),te({no_transaksi:e.no_transaksi})},children:"Hapus"})})})]},t)})):Object(N.jsx)("tr",{className:"text-center",children:Object(N.jsx)("td",{colSpan:s.length,children:"Data Kosong"})})},sortBy:j,searchOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{q:e,page:1})}))},pageOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:e})}))},rowsOnChange:function(e){return p((function(t){return Object(h.a)(Object(h.a)({},t),{},{page:1,rowsPerPage:e})}))},sortByOnChange:function(e){return b(e)}})]})]})},Re=function(){var e=Object(x.useState)({kode_barang:"",kuantitas:"",harga_jual:"",username:localStorage.getItem("username")}),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(x.useState)({kode_barang:!1,kuantitas:!1,harga_jual:!1}),s=Object(S.a)(c,2),r=s[0],l=s[1],o=Object(x.useState)([]),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)(!1),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)(!1),p=Object(S.a)(f,2),O=p[0],k=p[1],y=Object(x.useState)({status:200,message:"",duration:3e3}),P=Object(S.a)(y,2),C=P[0],I=P[1],E=Object(v.g)(),D=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/barang",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){u(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),E.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=!1;return Object.entries(a).forEach((function(t){var a=Object(S.a)(t,2),n=a[0],c=a[1];console.log(n,c),"kuantitas"===n&&(c=c.replace(/\D/g,"")),c||(e=!0,l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi"))})))})),!e},T=function(e){var t=e.target.name,a=e.target.value;if("kuantitas"===t&&(a=a.replace(/\D/g,"")),a){if("kode_barang"===t){var c=d.find((function(e){return e.kode_barang===a})).harga_jual;n((function(e){var n;return Object(h.a)(Object(h.a)({},e),{},(n={},Object(xe.a)(n,t,a),Object(xe.a)(n,"harga_jual",c),n))}))}else n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))}));l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))}))}else n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi"))}))},Y=function(){var e=Object(_.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),F()){e.next=3;break}return e.abrupt("return",!1);case 3:return g(!0),e.next=6,R.post("/barang_keluar",a,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){I((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),k(!0)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),E.push("/login");I((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),k(!0)}));case 6:g(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"}),D()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Tambah Barang Keluar | INVENTORY"})}),m?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:O},C),{},{afterClose:function(){k(!1),200===C.status&&E.goBack()}})),Object(N.jsxs)(B,{className:"font-montserrat w-full sm:w-4/5 md:w-3/4 lg:w-2/3 xl:w-1/2 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Tambah Barang Keluar"}),Object(N.jsxs)("form",{onSubmit:Y,children:[Object(N.jsxs)("div",{className:"flex flex-col justify-center space-y-4",children:[Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Barang Keluar ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:a.kode_barang,name:"kode_barang",onChange:T,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Barang --"}),d.map((function(e,t){return Object(N.jsx)("option",{value:e.kode_barang,children:"".concat(e.kode_barang," | ").concat(e.nama_barang)},t)}))]}),Object(N.jsx)("div",{className:"".concat(r.kode_barang?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Barang ".concat(r.kode_barang)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Kuantitas ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Kuantitas",name:"kuantitas",value:a.kuantitas,onChange:T}),Object(N.jsx)("div",{className:"".concat(r.kuantitas?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Kuantitas ".concat(r.kuantitas)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Harga Jual ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("div",{className:"flex col-span-full md:col-span-8 border border-gray-300 rounded-md focus-within:ring focus-within:ring-indigo-200",children:[Object(N.jsx)("div",{className:"bg-gray-100  px-3 py-2",children:"Rp"}),Object(N.jsx)("input",{type:"text",className:"bg-gray-50 focus:outline-none w-full p-2",placeholder:"Harga Jual",name:"harga_jual",value:a.harga_jual,onChange:T,readOnly:!0})]})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Total Harga ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("div",{className:"flex col-span-full md:col-span-8 border border-gray-300 rounded-md focus-within:ring focus-within:ring-indigo-200",children:[Object(N.jsx)("div",{className:"bg-gray-100  px-3 py-2",children:"Rp"}),Object(N.jsx)("input",{type:"text",className:"bg-gray-50 focus:outline-none w-full p-2",placeholder:"Total Harga",name:"total_harga",value:a.harga_jual*a.kuantitas,onChange:T,readOnly:!0})]})]})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]})]})},Be=function(e){var t=e.match.params.id,a=Object(x.useState)(null),n=Object(S.a)(a,2),c=n[0],s=n[1],r=Object(x.useState)({username:"",nama:"",email:"",no_telp:"",role:"",status:""}),l=Object(S.a)(r,2),o=l[0],i=l[1],d=Object(x.useState)({username:!1,nama:!1,email:!1,no_telp:!1,role:!1,status:!1}),u=Object(S.a)(d,2),j=u[0],b=u[1],m=Object(x.useState)({password:""}),g=Object(S.a)(m,2),f=g[0],p=g[1],O=Object(x.useState)({password:!1}),k=Object(S.a)(O,2),y=k[0],P=k[1],C=Object(x.useState)(!1),I=Object(S.a)(C,2),E=I[0],D=I[1],F=Object(x.useState)(!1),T=Object(S.a)(F,2),Y=T[0],K=T[1],M=Object(x.useState)({status:200,message:"",duration:3e3}),L=Object(S.a)(M,2),q=L[0],A=L[1],V=Object(v.g)(),J=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/pengguna/".concat(t),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){i(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),V.push("/login");console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=!1;return Object.entries(o).forEach((function(t){var a=Object(S.a)(t,2),n=a[0],c=a[1];if("foto"===n)return!1;"no_telp"===n&&(c=c.replace(/\D/g,"")),void 0!==c&&""!==c||(e=!0,b((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi"))})))})),!e},W=function(e){var t=e.target.name,a=e.target.value;"no_telp"===t?a=a.replace(/\D/g,""):"status"===t&&(a=a.replace(/\D/g,""),a=parseInt(a)),i((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),"email"===t?void 0===a||""===a?b((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi."))})):a.includes("@")&&a.includes(".")?b((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))})):b((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"tidak valid."))})):b(void 0===a||""===a?function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi"))}:function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))})},Z=function(){if(!c)return!1;var e=new FormData;return e.set("file",c,c.name),R.post("/upload",e,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){return e.data})).catch((function(e){return 401===e.response.status?(localStorage.clear(),V.push("/login")):e.response}))},Q=function(){var e=Object(_.a)(w.a.mark((function e(a){var n,c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),D(!0),e.next=4,Z();case 4:if(c=e.sent,D(!1),c&&(n=c.data.filename),delete o._id,delete o.created_at,G()){e.next=11;break}return e.abrupt("return",!1);case 11:return D(!0),e.next=14,R.put("/pengguna/".concat(t),Object(h.a)(Object(h.a)({},o),{},{foto:n}),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){A((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),K(!0)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),V.push("/login");A((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),K(!0)}));case 14:D(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),$=function(){var e=Object(_.a)(w.a.mark((function e(a){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),(n=f.password)&&!(n.length<6)){e.next=5;break}return P({password:"harus diisi minimal 6 karakter."}),e.abrupt("return",!1);case 5:return D(!0),e.next=8,R.put("/pengguna/".concat(t,"/ubah_password"),f,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){A((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),K(!0)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),V.push("/login");A((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),K(!0)}));case 8:D(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"}),J()}),[t]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Edit Pengguna | INVENTORY"})}),E?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:Y},q),{},{afterClose:function(){K(!1),200===q.status&&V.goBack()}})),Object(N.jsxs)("div",{className:"grid grid-cols-12 gap-x-4 items-start",children:[Object(N.jsxs)(B,{className:"font-montserrat col-span-full md:col-span-6",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Edit Pengguna"}),Object(N.jsxs)("form",{onSubmit:Q,children:[Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsx)("img",{src:"/img/".concat(o.foto),alt:"User Profile",className:"ring-2 ring-offset-4 ring-indigo-400 shadow-lg rounded-full w-20 mx-auto"}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsx)("div",{className:"col-span-full md:col-span-4",children:"Foto"}),Object(N.jsx)("input",{type:"file",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",onChange:function(e){var t=e.target.files[0];t.size/1e6>2&&s(null),"image/jpeg"===t.type&&"image/jpg"===t.type&&"image/png"===t.type||s(null),s(t)}})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Username ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Username",value:o.username,disabled:!0})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Nama Pengguna ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Pengguna",name:"nama",value:o.nama,onChange:W}),Object(N.jsx)("div",{className:"".concat(j.nama?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Nama pengguna ".concat(j.nama)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Email ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"email",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Email",name:"email",value:o.email,onChange:W}),Object(N.jsx)("div",{className:"".concat(j.email?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Email ".concat(j.email)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["No telp ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"No telp",name:"no_telp",value:o.no_telp,onChange:W}),Object(N.jsx)("div",{className:"".concat(j.no_telp?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"No telp ".concat(j.no_telp)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Role ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:o.role,name:"role",onChange:W,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Role --"}),Object(N.jsx)("option",{value:"admin",children:"Admin"}),Object(N.jsx)("option",{value:"staff",children:"Staff"})]}),Object(N.jsx)("div",{className:"".concat(j.role?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Role ".concat(j.role)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Status ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:o.status,name:"status",onChange:W,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Status --"}),Object(N.jsx)("option",{value:"1",children:"Aktif"}),Object(N.jsx)("option",{value:"0",children:"Nonaktif"})]}),Object(N.jsx)("div",{className:"".concat(j.status?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Status ".concat(j.status)})]})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]}),Object(N.jsxs)(B,{className:"font-montserrat col-span-full md:col-span-6",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Ubah Password"}),Object(N.jsxs)("form",{onSubmit:$,children:[Object(N.jsx)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Password Baru ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Password Baru",name:"password",value:f.password,onChange:function(e){var t=e.target.value;p({password:t}),!t||t.length<6?P({password:"harus diisi minimal 6 karakter."}):P({password:!1})}}),Object(N.jsx)("div",{className:"".concat(y.password?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Password baru ".concat(y.password)})]})}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]})]})]})},Ee=function(){var e=Object(x.useState)(null),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(x.useState)({username:"",nama:"",email:"",password:"",no_telp:"",role:"",status:""}),s=Object(S.a)(c,2),r=s[0],l=s[1],o=Object(x.useState)({username:!1,nama:!1,email:!1,password:!1,no_telp:!1,role:!1,status:!1}),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)(!1),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)(!1),p=Object(S.a)(f,2),O=p[0],k=p[1],y=Object(x.useState)({status:200,message:"",duration:3e3}),P=Object(S.a)(y,2),C=P[0],I=P[1],E=Object(v.g)(),D=function(){var e=!1;return Object.entries(r).forEach((function(t){var a=Object(S.a)(t,2),n=a[0],c=a[1];"username"===n?c=c.toLowerCase():"no_telp"===n?c=c.replace(/\D/g,""):"status"===n&&(c=parseInt(c)),"username"===n?c.length<5&&(e=!0,u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi minimal 5 karakter."))}))):"password"===n?c.length<6&&(e=!0,u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi minimal 6 karakter."))}))):"email"===n?void 0===c||""===c?(e=!0,u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi."))}))):c.includes("@")&&c.includes(".")||(e=!0,u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"tidak valid."))}))):void 0!==c&&""!==c||(e=!0,u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi"))})))})),!e},F=function(e){var t=e.target.name,a=e.target.value;"username"===t?a=a.toLowerCase():"no_telp"===t?a=a.replace(/\D/g,""):"status"===t&&(a=a.replace(/\D/g,""),a=parseInt(a)),l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),"username"===t?a.length<5?u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi minimal 5 karakter."))})):u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))})):"email"===t?void 0===a||""===a?u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi."))})):a.includes("@")&&a.includes(".")?u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))})):u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"tidak valid."))})):"password"===t?a.length<6?u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi minimal 6 karakter."))})):u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))})):u(void 0===a||""===a?function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi"))}:function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))})},T=function(){if(!a)return!1;var e=new FormData;return e.set("file",a,a.name),R.post("/upload",e,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){return e.data})).catch((function(e){return 401===e.response.status?(localStorage.clear(),E.push("/login")):e.response}))},Y=function(){var e=Object(_.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),g(!0),e.next=4,T();case 4:if(n=e.sent,g(!1),n&&(a=n.data.filename),D()){e.next=9;break}return e.abrupt("return",!1);case 9:return g(!0),e.next=12,R.post("/pengguna",Object(h.a)(Object(h.a)({},r),{},{foto:a}),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){I((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),k(!0)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),E.push("/login");I((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),k(!0)}));case 12:g(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"})}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Tambah Pengguna | INVENTORY"})}),m?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:O},C),{},{afterClose:function(){k(!1),200===C.status&&E.goBack()}})),Object(N.jsxs)(B,{className:"font-montserrat w-full sm:w-4/5 md:w-3/4 lg:w-2/3 xl:w-1/2 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Tambah Pengguna"}),Object(N.jsxs)("form",{onSubmit:Y,children:[Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsx)("div",{className:"col-span-full md:col-span-4",children:"Foto"}),Object(N.jsx)("input",{type:"file",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",onChange:function(e){var t=e.target.files[0];t.size/1e6>2&&n(null),"image/jpeg"===t.type&&"image/jpg"===t.type&&"image/png"===t.type||n(null),n(t)}})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Username ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Username",name:"username",value:r.username,onChange:F}),Object(N.jsx)("div",{className:"".concat(d.username?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Username ".concat(d.username)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Nama Pengguna ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Pengguna",name:"nama",value:r.nama,onChange:F}),Object(N.jsx)("div",{className:"".concat(d.nama?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Nama pengguna ".concat(d.nama)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Email ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"email",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Email",name:"email",value:r.email,onChange:F}),Object(N.jsx)("div",{className:"".concat(d.email?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Email ".concat(d.email)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Password ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Password",name:"password",value:r.password,onChange:F}),Object(N.jsx)("div",{className:"".concat(d.password?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Password ".concat(d.password)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["No telp ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"No telp",name:"no_telp",value:r.no_telp,onChange:F}),Object(N.jsx)("div",{className:"".concat(d.no_telp?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"No telp ".concat(d.no_telp)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Role ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:r.role,name:"role",onChange:F,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Role --"}),Object(N.jsx)("option",{value:"admin",children:"Admin"}),Object(N.jsx)("option",{value:"staff",children:"Staff"})]}),Object(N.jsx)("div",{className:"".concat(d.role?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Role ".concat(d.role)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Status ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsxs)("select",{className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",value:r.status,name:"status",onChange:F,children:[Object(N.jsx)("option",{value:"",disabled:!0,children:"-- Pilih Status --"}),Object(N.jsx)("option",{value:"1",children:"Aktif"}),Object(N.jsx)("option",{value:"0",children:"Nonaktif"})]}),Object(N.jsx)("div",{className:"".concat(d.status?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Status ".concat(d.status)})]})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]})]})},De=function(){return Object(N.jsx)(N.Fragment,{children:"Page Not FOund"})},Fe=function(){var e=Object(x.useState)({start:"",end:"",type:""}),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(x.useState)({start:!1,end:!1,type:!1}),s=Object(S.a)(c,2),r=s[0],l=s[1],o=[{label:"No Transaksi",key:"no_transaksi"},{label:"Supplier",key:"supplier"},{label:"Nama Barang",key:"nama_barang"},{label:"Kuantitas",key:"kuantitas"},{label:"Harga Beli",key:"harga_beli"},{label:"Total Harga",key:"total_harga"},{label:"User",key:"username"},{label:"Tgl Masuk",key:"created_at"}],i=[{label:"No Transaksi",key:"no_transaksi"},{label:"Nama Barang",key:"nama_barang"},{label:"Kuantitas",key:"kuantitas"},{label:"Harga Jual",key:"harga_jual"},{label:"Total Harga",key:"total_harga"},{label:"User",key:"username"},{label:"Tgl Keluar",key:"created_at"}],d=Object(x.useState)(null),u=Object(S.a)(d,2),j=u[0],b=u[1],m=Object(x.useState)(!1),g=Object(S.a)(m,2),f=g[0],p=g[1],O=Object(x.useState)(!1),k=Object(S.a)(O,2),y=k[0],P=k[1],C=Object(x.useRef)(null),I=Object(v.g)(),E=function(){var e=!1;return""===a.type&&(e=!0,l((function(e){return Object(h.a)(Object(h.a)({},e),{},{type:!0})}))),""===a.start&&(e=!0,l((function(e){return Object(h.a)(Object(h.a)({},e),{},{start:!0})}))),""===a.end&&(e=!0,l((function(e){return Object(h.a)(Object(h.a)({},e),{},{end:!0})}))),!e},D=function(e){var t=e.target.name,a=e.target.value;n((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),l(""===a?function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!0))}:function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))})},F=function(){var e=Object(_.a)(w.a.mark((function e(t){var n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(E()){e.next=2;break}return e.abrupt("return",!1);case 2:return n=C.current.link,"barang_masuk"===a.type?(b(o),n.download="Laporan_Barang_Masuk_".concat(a.start,"_").concat(a.end,".csv")):"barang_keluar"===a.type&&(b(i),n.download="Laporan_Barang_Keluar_".concat(a.start,"_").concat(a.end,".csv")),P(!0),e.next=7,T();case 7:P(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/".concat(a.type,"/laporan"),{params:{mulai:a.start,sampai:a.end},headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){p((function(){var t=[];return e.data.data.forEach((function(e,n){"barang_masuk"===a.type?t.push({no_transaksi:e.no_transaksi,supplier:e.id_supplier.nama_supplier,nama_barang:e.barang_masuk.nama_barang,kuantitas:e.kuantitas,harga_beli:e.harga_beli,total_harga:e.harga_beli*e.kuantitas,username:e.user_input.nama,created_at:ae()(e.created_at).format("YYYY MM DD")}):"barang_keluar"===a.type&&t.push({no_transaksi:e.no_transaksi,nama_barang:e.barang_keluar.nama_barang,kuantitas:e.kuantitas,harga_jual:e.harga_jual,total_harga:e.harga_jual*e.kuantitas,username:e.user_input.nama,created_at:ae()(e.created_at).format("YYYY MM DD")})})),t}))})).catch((function(e){if(401===e.response.status)return localStorage.clear(),I.push("/login")}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){f&&C.current&&C.current.link&&setTimeout((function(){C.current.link.click()}))}),[f]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Laporan | INVENTORY"})}),y?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsxs)(B,{className:"w-full sm:w-5/6 md:w-3/4 lg:w-1/2 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Laporan Barang Masuk/Keluar"}),Object(N.jsxs)("div",{className:"grid items-center font-montserrat gap-y-4 mb-8",children:[Object(N.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500",children:"Pilih Laporan"}),Object(N.jsxs)("div",{className:"flex flex-col",children:[Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"radio",className:"mr-2",name:"type",value:"barang_masuk",onChange:D,checked:"barang_masuk"===a.type}),"Barang Masuk"]}),Object(N.jsxs)("label",{children:[Object(N.jsx)("input",{type:"radio",className:"mr-2",name:"type",value:"barang_keluar",onChange:D,checked:"barang_keluar"===a.type}),"Barang Keluar"]}),Object(N.jsx)("div",{className:"text-red-400 text-sm",children:r.type?"Laporan harus diisi":""})]})]}),Object(N.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500",children:"Dari Tanggal"}),Object(N.jsx)("input",{type:"date",className:"text-sm border rounded focus:outline-none focus:ring focus:ring-indigo-200 px-4 py-2",name:"start",value:a.start,onChange:D}),Object(N.jsx)("div",{className:"text-red-400 text-sm",children:r.start?"Tanggal harus diisi":""})]}),Object(N.jsxs)("div",{className:"flex flex-col space-y-2",children:[Object(N.jsx)("div",{className:"font-bold text-gray-500",children:"Sampai Tanggal"}),Object(N.jsx)("input",{type:"date",className:"text-sm border rounded focus:outline-none focus:ring focus:ring-indigo-200 px-4 py-2",name:"end",value:a.end,onChange:D}),Object(N.jsx)("div",{className:"text-red-400 text-sm",children:r.end?"Tanggal harus diisi":""})]})]}),Object(N.jsxs)(L,{className:"text-sm",onClick:F,children:[Object(N.jsx)(A.a,{icon:ce.a,className:"mr-2"}),"Export"]}),Object(N.jsx)(ne.CSVLink,{headers:j,data:f||[],ref:C,filename:"Laporan_INVENTORY.csv",target:"_blank"})]})]})},Te=function(){var e=Object(x.useState)({username:"",nama:"",email:"",no_telp:"",role:"",status:""}),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(v.g)(),s=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/pengguna/info",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){n(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),c.push("/login");console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"}),s()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Profile | INVENTORY"})}),Object(N.jsxs)(B,{className:"w-full sm:w-5/6 md:w-3/4 lg:w-1/2 mx-auto",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-gray-500 text-xl mb-6",children:"Profile"}),Object(N.jsxs)("div",{className:"flex flex-col font-montserrat text-gray-500 space-y-4",children:[Object(N.jsxs)("div",{className:"flex items-start space-x-4 mx-auto mb-4",children:[a.foto?Object(N.jsx)("img",{src:"/img/".concat(a.foto),alt:"User Profile",className:"ring-2 ring-offset-4 ring-indigo-400 shadow-lg rounded-full w-20"}):null,Object(N.jsxs)("div",{className:"flex flex-col items-start",children:[Object(N.jsx)("div",{className:"font-bold",children:a.nama}),Object(N.jsx)("div",{className:"text-sm italic mb-2",children:a.email}),Object(N.jsx)("div",{className:"inline-block font-poppins ".concat(a.status?"bg-green-400":"bg-red-400"," text-white text-center text-xs rounded-full px-4 py-1"),children:a.status?"Aktif":"Nonaktif"})]})]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"font-bold text-sm",children:"Username"}),a.username]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"font-bold text-sm",children:"No telp"}),a.no_telp]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"font-bold text-sm",children:"Role"}),a.role]}),Object(N.jsxs)("div",{children:[Object(N.jsx)("div",{className:"font-bold text-sm",children:"Tgl terdaftar"}),ae()(a.created_at).format("DD MMM YYYY [pukul] HH:mm")]}),Object(N.jsx)("div",{className:"text-right",children:Object(N.jsx)(O.b,{to:"/profile/edit",children:Object(N.jsx)(H,{className:"text-sm",children:"Edit profile"})})})]})]})]})},Ye=function(){var e=Object(x.useState)(null),t=Object(S.a)(e,2),a=t[0],n=t[1],c=Object(x.useState)({username:"",nama:"",email:"",no_telp:""}),s=Object(S.a)(c,2),r=s[0],l=s[1],o=Object(x.useState)({nama:!1,email:!1,no_telp:!1}),i=Object(S.a)(o,2),d=i[0],u=i[1],j=Object(x.useState)({password:""}),b=Object(S.a)(j,2),m=b[0],g=b[1],f=Object(x.useState)({password:!1}),p=Object(S.a)(f,2),O=p[0],k=p[1],y=Object(x.useState)(!1),P=Object(S.a)(y,2),C=P[0],I=P[1],E=Object(x.useState)(!1),D=Object(S.a)(E,2),F=D[0],T=D[1],Y=Object(x.useState)({status:200,message:"",duration:3e3}),K=Object(S.a)(Y,2),M=K[0],L=K[1],q=Object(v.g)(),A=function(){var e=Object(_.a)(w.a.mark((function e(){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.get("/pengguna/info",{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){l(e.data.data)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),q.push("/login");console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),V=function(){var e=!1;return Object.entries(r).forEach((function(t){var a=Object(S.a)(t,2),n=a[0],c=a[1];if("foto"===n)return!1;"no_telp"===n&&(c=c.replace(/\D/g,"")),void 0!==c&&""!==c||(e=!0,u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},n,"harus diisi"))})))})),!e},J=function(e){var t=e.target.name,a=e.target.value;"no_telp"===t&&(a=a.replace(/\D/g,"")),l((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,a))})),"email"===t?void 0===a||""===a?u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi."))})):a.includes("@")&&a.includes(".")?u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))})):u((function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"tidak valid."))})):u(a?function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,!1))}:function(e){return Object(h.a)(Object(h.a)({},e),{},Object(xe.a)({},t,"harus diisi"))})},G=function(){if(!a)return!1;var e=new FormData;return e.set("file",a,a.name),R.post("/upload",e,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){return e.data})).catch((function(e){return 401===e.response.status?(localStorage.clear(),q.push("/login")):e.response}))},W=function(){var e=Object(_.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),I(!0),e.next=4,G();case 4:if(n=e.sent,I(!1),n&&(a=n.data.filename),delete r._id,delete r.created_at,V()){e.next=11;break}return e.abrupt("return",!1);case 11:return I(!0),e.next=14,R.put("/pengguna/info",Object(h.a)(Object(h.a)({},r),{},{foto:a}),{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){L((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),T(!0)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),q.push("/login");L((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),T(!0)}));case 14:I(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(_.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),(a=m.password)&&!(a.length<6)){e.next=5;break}return k({password:"harus diisi minimal 6 karakter."}),e.abrupt("return",!1);case 5:return I(!0),e.next=8,R.put("/pengguna/ubah_password",m,{headers:{"x-access-token":localStorage.getItem("token")}}).then((function(e){L((function(t){return Object(h.a)(Object(h.a)({},t),e.data)})),T(!0)})).catch((function(e){if(401===e.response.status)return localStorage.clear(),q.push("/login");L((function(e){return Object(h.a)(Object(h.a)({},e),{},{status:500,message:"Internal server error!"})})),T(!0)}));case 8:I(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(x.useEffect)((function(){window.scroll({top:0,behavior:"smooth"}),A()}),[]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(U.a,{children:Object(N.jsx)("title",{children:"Edit Profile | INVENTORY"})}),C?Object(N.jsx)("div",{className:"fixed bg-transparent w-full h-full z-30",children:Object(N.jsx)("div",{className:"fixed top-1/2 left-1/2 transform -translate-y-1/2 -translate-x-1/2",children:Object(N.jsx)(X,{children:Object(N.jsx)("div",{className:"font-montserrat mt-2",children:"loading..."})})})}):null,Object(N.jsx)(z,Object(h.a)(Object(h.a)({show:F},M),{},{afterClose:function(){T(!1),200===M.status&&q.goBack()}})),Object(N.jsxs)("div",{className:"grid grid-cols-12 gap-x-4 items-start",children:[Object(N.jsxs)(B,{className:"font-montserrat col-span-full md:col-span-6",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Edit Profile"}),Object(N.jsxs)("form",{onSubmit:W,children:[Object(N.jsxs)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:[Object(N.jsx)("img",{src:"/img/".concat(r.foto),alt:"User Profile",className:"ring-2 ring-offset-4 ring-indigo-400 shadow-lg rounded-full w-20 mx-auto"}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsx)("div",{className:"col-span-full md:col-span-4",children:"Foto"}),Object(N.jsx)("input",{type:"file",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",onChange:function(e){var t=e.target.files[0];t.size/1e6>2&&n(null),"image/jpeg"===t.type&&"image/jpg"===t.type&&"image/png"===t.type||n(null),n(t)}})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Username ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Username",value:r.username,disabled:!0})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Nama Pengguna ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Nama Pengguna",name:"nama",value:r.nama,onChange:J}),Object(N.jsx)("div",{className:"".concat(d.nama?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Nama pengguna ".concat(d.nama)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Email ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"email",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Email",name:"email",value:r.email,onChange:J}),Object(N.jsx)("div",{className:"".concat(d.email?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Email ".concat(d.email)})]}),Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["No telp ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"No telp",name:"no_telp",value:r.no_telp,onChange:J}),Object(N.jsx)("div",{className:"".concat(d.no_telp?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"No telp ".concat(d.no_telp)})]})]}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]}),Object(N.jsxs)(B,{className:"font-montserrat col-span-full md:col-span-6",children:[Object(N.jsx)("div",{className:"font-montserrat font-bold text-lg text-gray-500 mb-6",children:"Ubah Password"}),Object(N.jsxs)("form",{onSubmit:Z,children:[Object(N.jsx)("div",{className:"flex flex-col justify-center text-sm space-y-4",children:Object(N.jsxs)("div",{className:"grid grid-cols-12 items-center gap-x-4 gap-y-1",children:[Object(N.jsxs)("div",{className:"col-span-full md:col-span-4",children:["Password Baru ",Object(N.jsx)("span",{className:"text-red-400",children:"*"})]}),Object(N.jsx)("input",{type:"text",className:"col-span-full md:col-span-8 border border-gray-300 rounded-md focus:ring focus:ring-indigo-200 focus:outline-none p-2",placeholder:"Password Baru",name:"password",value:m.password,onChange:function(e){var t=e.target.value;g({password:t}),!t||t.length<6?k({password:"harus diisi minimal 6 karakter."}):k({password:!1})}}),Object(N.jsx)("div",{className:"".concat(O.password?"":"hidden"," md:col-start-5 col-span-full text-xs text-red-400"),children:"Password baru ".concat(O.password)})]})}),Object(N.jsx)("div",{className:"flex justify-end mt-6",children:Object(N.jsx)(H,{className:"text-sm",children:"Simpan"})})]})]})]})]})};var Ke=function(){return Object(N.jsx)(O.a,{children:Object(N.jsxs)(v.d,{children:[Object(N.jsx)(v.b,{path:"/login",exact:!0,render:function(e){return localStorage.getItem("isLoggedIn")?e.history.push("/"):Object(N.jsx)(ge,Object(h.a)({},e))}}),Object(N.jsx)(v.b,{path:"/404",component:De}),Object(N.jsxs)(ve,{children:[Object(N.jsx)(k,{path:"/logout",exact:!0,render:function(){return localStorage.clear(),Object(N.jsx)(v.a,{to:"/login"})}}),Object(N.jsx)(k,{path:"/",exact:!0,component:me}),Object(N.jsx)(k,{path:"/profile",exact:!0,component:Te}),Object(N.jsx)(k,{path:"/profile/edit",exact:!0,component:Ye}),Object(N.jsx)(k,{path:"/pengguna",exact:!0,render:function(e){return"admin"!==localStorage.getItem("role")?e.history.goBack():Object(N.jsx)(oe,Object(h.a)({},e))}}),Object(N.jsx)(k,{path:"/pengguna/tambah",exact:!0,render:function(e){return"admin"!==localStorage.getItem("role")?e.history.goBack():Object(N.jsx)(Ee,Object(h.a)({},e))}}),Object(N.jsx)(k,{path:"/pengguna/:id/edit",exact:!0,render:function(e){return"admin"!==localStorage.getItem("role")?e.history.goBack():Object(N.jsx)(Be,Object(h.a)({},e))}}),Object(N.jsx)(k,{path:"/barang",exact:!0,component:re}),Object(N.jsx)(k,{path:"/barang/tambah",exact:!0,component:fe}),Object(N.jsx)(k,{path:"/barang/:id/edit",exact:!0,component:pe}),Object(N.jsx)(k,{path:"/kategori",exact:!0,component:de}),Object(N.jsx)(k,{path:"/satuan",exact:!0,component:je}),Object(N.jsx)(k,{path:"/supplier",exact:!0,component:ke}),Object(N.jsx)(k,{path:"/supplier/tambah",exact:!0,component:ye}),Object(N.jsx)(k,{path:"/supplier/:id/edit",exact:!0,component:we}),Object(N.jsx)(k,{path:"/barang_masuk",exact:!0,component:Se}),Object(N.jsx)(k,{path:"/barang_masuk/tambah",exact:!0,component:Pe}),Object(N.jsx)(k,{path:"/barang_keluar",exact:!0,component:Ie}),Object(N.jsx)(k,{path:"/barang_keluar/tambah",exact:!0,component:Re}),Object(N.jsx)(k,{path:"/laporan",exact:!0,component:Fe})]})]})})},Me=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,247)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))};p.a.render(Object(N.jsx)(Ke,{}),document.getElementById("root")),Me()}},[[246,1,2]]]);
//# sourceMappingURL=main.9f6d35f5.chunk.js.map